(this["webpackJsonp@etclabscore/sig.tools"]=this["webpackJsonp@etclabscore/sig.tools"]||[]).push([[0],{1136:function(e,t){},1154:function(e,t){},1181:function(e,t){},135:function(e){e.exports=JSON.parse('{"openrpc":"1.1.12","info":{"version":"0.0.1","title":"Sig.tools","description":"\ud83d\udd10 sig.tools is a tool to enable the offline distributed generation and management of cryptographic accounts for the Ethereum Stack.","license":{"name":"Apache 2.0","url":"https://www.apache.org/licenses/LICENSE-2.0.html"}},"servers":[{"name":"sig.tools","x-transport":"postmessagewindow","description":"sig.tools JSON-RPC API is available over `postMessage`.","url":"https://sig.tools"}],"methods":[{"name":"getPermissions","description":"get users permissions","x-transport":"postmessagewindow","params":[],"result":{"$ref":"#/components/contentDescriptors/PermissionsList"}},{"name":"requestPermissions","description":"request additional permissions from the user","params":[{"name":"requestPermissionsObject","schema":{"title":"requestPermissionObject","type":"object","properties":{"listAccounts":{"type":"object"}}}}],"result":{"$ref":"#/components/contentDescriptors/PermissionsList"},"examples":[{"name":"requestPermissionObjectExample","description":"example for a permission request for listAccounts","params":[{"name":"requestPermissionObject","value":{"listAccounts":{}}}],"result":{"name":"permissionList","value":{}}}]},{"name":"listAccounts","summary":"Return the list of all not hidden (by default) accounts from the keystore","params":[{"$ref":"#/components/contentDescriptors/Hidden"}],"result":{"name":"accounts","description":"List of accounts according to flag","schema":{"$ref":"#/components/schemas/Accounts"}}},{"name":"listWallets","summary":"Return the list of all not hidden (by default) wallets from the keystore","params":[{"$ref":"#/components/contentDescriptors/Hidden"}],"result":{"name":"wallets","description":"List of all wallets according to hidden flag","schema":{"$ref":"#/components/schemas/Wallets"}}},{"name":"hideAccount","summary":"Hide an account from the list returned by default by `signer_listAccounts`","params":[{"$ref":"#/components/contentDescriptors/Address"}],"result":{"name":"hideAccountResult","description":"`true` if required account exists","schema":{"$ref":"#/components/schemas/AccountExists"}}},{"name":"unhideAccount","summary":"Show an account that was hidden before by the command `signer_hideAccount`","params":[{"$ref":"#/components/contentDescriptors/Address"}],"result":{"name":"unhideAccountResult","description":"`accept` (Boolean) - `true` if required account exists","schema":{"$ref":"#/components/schemas/AccountExists"}}},{"name":"createAccount","summary":"Creates a new account and stores it locally as a passphrase-encoded keystore file.","params":[{"name":"newAccount","description":"Creates a new account and stores it locally as a passphrase-encoded keystore file.","schema":{"title":"newAccount","type":"object","properties":{"name":{"title":"accountName","description":"account name","type":"string"},"description":{"title":"accountDescription","description":"account description","type":"string"},"passphrase":{"$ref":"#/components/schemas/Passphrase"},"privateKey":{"title":"privateKey","description":"optional private key field for importing","type":"string"}},"required":["name","passphrase"]},"required":true}],"result":{"$ref":"#/components/contentDescriptors/Address"},"examples":[{"name":"newAccountExample","description":"Example of creating a new account","params":[{"name":"testAccount","value":{"name":"my test wallet","description":"my test wallet description"}}],"result":{"name":"newAccountResultExample","value":"0x90ee510fb88ea47a84b45a6d983a0bc6b193e385"}}]},{"name":"signTransaction","summary":"Signs transaction offline with private key from keystore file with given from address and passphrase.","params":[{"name":"transaction","description":"transaction to sign","summary":"transaction","required":true,"schema":{"$ref":"#/components/schemas/Transaction"}},{"name":"chainId","required":true,"description":"chain id for the transaction","summary":"chain id for the transaction","schema":{"$ref":"#/components/schemas/ChainId"}}],"result":{"name":"signedTransaction","description":"Hex-encoded signed raw transaction data","schema":{"$ref":"#/components/schemas/HexString"}}},{"name":"signTypedData","summary":"Signs v4 typed data with private key from keystore file with given from address and passphrase.","params":[{"name":"typedData","description":"typedData to sign","summary":"EIP 712 TypedData","required":true,"schema":{"$ref":"#/components/schemas/SignedTypedData"}},{"name":"address","description":"address to send transaction to","summary":"Address to send transaction from","required":true,"schema":{"$ref":"#/components/schemas/Address"}},{"name":"chainId","required":true,"description":"chainId for tthe signed type data transaction","summary":"transaction chainId","schema":{"$ref":"#/components/schemas/ChainId"}}],"result":{"name":"signedTypedData","description":"Hex-encoded signed raw typed data","schema":{"title":"signedTypedDataResult","type":"object","properties":{"signature":{"$ref":"#/components/schemas/HexString"},"encodedData":{"$ref":"#/components/schemas/HexString"}},"required":["signature","encodedData"]}},"examples":[{"name":"signedTypeDataExample","description":"A signedTypedData Example","params":[{"name":"signedTypedData","description":"SignedTypedData object","summary":"Example signed typed data payload","value":{"types":{"EIP712Domain":[{"name":"name","type":"string"},{"name":"version","type":"string"},{"name":"chainId","type":"uint256"},{"name":"verifyingContract","type":"address"}],"Person":[{"name":"name","type":"string"},{"name":"wallet","type":"address"}],"Mail":[{"name":"from","type":"Person"},{"name":"to","type":"Person"},{"name":"contents","type":"string"}]},"primaryType":"Mail","domain":{"name":"Ether Mail","version":"1","chainId":1,"verifyingContract":"0xCcCCccccCCCCcCCCCCCcCcCccCcCCCcCcccccccC"},"message":{"from":{"name":"Cow","wallet":"0xCD2a3d9F938E13CD947Ec05AbC7FE734Df8DD826"},"to":{"name":"Bob","wallet":"0xbBbBBBBbbBBBbbbBbbBbbbbBBbBbbbbBbBbbBBbB"},"contents":"Hello, Bob!"}}},{"name":"address","description":"Sender address","summary":"Address to send sign typed data from","value":"0xCD2a3d9F938E13CD947Ec05AbC7FE734Df8DD826"},{"name":"chainId","description":"chainId for transaction","summary":"chainId to sign the data with","value":"0x6"}],"result":{"name":"signedTypedDataExampleResult","description":"An example result of the signedTyped Data","summary":"Demonstrates the return format of example","value":{"signature":"0x4355c47d63924e8a72e509b65029052eb6c299d53a04e167c5775fd466751c9d07299936d304c153f6443dfa05f40ff007d72911b6f72307f996231605b9156226","encodedData":"0xbe609aee343fb3c4b28e1df9e632fca64fcfaede20f02e86244efddf30957bd2"}}}]},{"name":"importKeyfile","summary":"Import an account from Keyfile","description":"Import a new account from an external keyfile. should comply with the [Web3 Secret Storage Definition](https://github.com/ethereumproject/wiki/wiki/Web3-Secret-Storage-Definition)","params":[{"$ref":"#/components/contentDescriptors/Keyfile"}],"result":{"$ref":"#/components/contentDescriptors/Address"}},{"name":"generateMnemonic","summary":"Generate a mnemonic phrase","description":"Generates a new 24 words long mnemonic phrase","params":[],"result":{"name":"mnemonicPhrase","description":"Mnemonic phrase is a list of 24 words","schema":{"$ref":"#/components/schemas/Mnemonic"}}},{"name":"importMnemonic","summary":"Import a mnemonic phrase","description":"Creates a new account from a mnemonic and stores it locally as a passphrase-encoded keystore file.","params":[{"required":true,"name":"importMnemonicOptions","schema":{"title":"importMnemonicOptions","type":"object","required":["mnemonic","hdPath","passphrase"],"properties":{"mnemonic":{"$ref":"#/components/schemas/Mnemonic"},"name":{"title":"mnemonicName","type":"string"},"description":{"title":"mnemonicDescription","type":"string"},"passphrase":{"$ref":"#/components/schemas/Passphrase"},"hdPath":{"title":"mnemonicHDPath","type":"string"}}}}],"result":{"name":"uuidResult","schema":{"type":"string"}},"examples":[{"name":"importMnemonicExample","description":"example of importing a mnemonic phrase","params":[{"name":"importMnemonicOptionsExample","description":"example of import mnemonic options","value":{"name":"my imported wallet","description":"my imported wallet description","hdPath":"m/44/60/160720\'/0","mnemonic":"icon suggest road current ripple engage spell clay route large arena climb oxygen electric cupboard dream title immune fit beyond mouse slab bronze salad"}}],"result":{"name":"importMnemonicResultExample","description":"example of import mnemonic result","value":"35ee9c7a-8ce5-48b7-80c3-7ad6602d43f4"}}]},{"name":"getAccountFromMnemonic","summary":"Get account from mnemonic wallet","description":"Returns address of account computed from the HDWallet specified","params":[{"name":"accountFromMnemonicOptions","description":"mnemonic account generation options","required":true,"schema":{"title":"AccountMnemonicOptions","type":"object","properties":{"uuid":{"title":"uuid","schema":{"type":"string"}},"index":{"title":"index","schema":{"type":"number"}}},"required":["uuid"]}}],"result":{"$ref":"#/components/contentDescriptors/Address"},"examples":[{"name":"getAccountFromMnemonicExample","description":"example of importing a mnemonic phrase","params":[{"name":"accountFromMnemonicOptions","description":"example of get mnemonic account","value":{"uuid":"35ee9c7a-8ce5-48b7-80c3-7ad6602d43f4"}}],"result":{"name":"getAccountFromMnemonicResultExample","description":"example of get account from mnemonic result","value":"0xa0dfb14b391590faff0d6b37bf2916f27cd15a28"}}]},{"name":"exportAccount","summary":"Export an account","description":"Export a keyfile associated with account. Keyfile uses the [Web3 Secret Storage Definition](https://github.com/ethereumproject/wiki/wiki/Web3-Secret-Storage-Definition)","params":[{"$ref":"#/components/contentDescriptors/Address"}],"result":{"$ref":"#/components/contentDescriptors/Keyfile"}},{"name":"sign","summary":"Sign a message","description":"Calculates an Ethereum-specific signature in the form of keccak256(\\"\\\\x19Ethereum Signed Message:\\n\\" + len(message) + message))","params":[{"name":"dataToSign","description":"data to sign","summary":"sign data","schema":{"$ref":"#/components/schemas/HexString"},"required":true},{"name":"address","required":true,"schema":{"$ref":"#/components/schemas/Address"}},{"name":"chainId","required":true,"description":"chain id for the transaction","summary":"chain id for the transaction","schema":{"$ref":"#/components/schemas/ChainId"}}],"result":{"name":"signedMessageData","description":"signature hash of the provided data","schema":{"$ref":"#/components/schemas/HexString"}},"examples":[{"name":"signMessageExample","params":[{"name":"dataToSign","value":"0x74657374"},{"name":"address","value":"0x90ee510fb88ea47a84b45a6d983a0bc6b193e385"},{"name":"chainId","value":"0x3d"}],"result":{"name":"signMessageResultExample","description":"The signed message","value":"0xb93eaad09a1ce33bf9b500a73be6faf5d2d4816a563f4ebce0f14f9e38e9583640163b319ccc33a84a435799226438f2376ec851ea82aa49b34675ac8c6fc1039e"}}]}],"components":{"schemas":{"PermissionsList":{"type":"array","items":{"$ref":"#/components/schemas/Permissions"}},"Permissions":{"type":"object"},"AccountExists":{"title":"AccountExists","type":"boolean"},"Address":{"title":"address","type":"string","pattern":"^0x[a-fA-F\\\\d]{40}$"},"Account":{"title":"Account","type":"object","required":["address","hidden"],"properties":{"address":{"$ref":"#/components/schemas/Address"},"name":{"title":"accountName","type":"string"},"description":{"title":"accountDescription","type":"string"},"hidden":{"$ref":"#/components/schemas/Hidden"}}},"Accounts":{"title":"accounts","type":"array","items":{"$ref":"#/components/schemas/Account"}},"ChainId":{"title":"chainId","type":"string","pattern":"^0x[a-fA-F0-9]+$"},"HexString":{"title":"hexString","type":"string","pattern":"^0x[a-fA-F0-9]+$"},"Hidden":{"title":"hidden","type":"boolean"},"Keyfile":{"title":"keyfile","type":"object","properties":{"version":{"type":"integer"},"id":{"type":"string"},"crypto":{"title":"crypto","type":"object","properties":{"ciphertext":{"type":"string"},"cipherparams":{"type":"object","properties":{"iv":{"title":"iv","type":"string"}}},"cipher":{"type":"string"},"kdf":{"type":"string"},"kdfparams":{"type":"object","properties":{"dklen":{"title":"dklen","type":"integer"},"salt":{"type":"string"},"n":{"type":"integer"},"r":{"type":"integer"},"p":{"type":"integer"}},"required":["dklen","salt","n","r","p"]},"mac":{"type":"string"}},"required":["kdfparams","kdf","cipher","cipherparams","ciphertext","mac"]}},"required":["crypto","id","version"]},"Nonce":{"title":"nonce","description":"A number only to be used once","pattern":"^0x[a-fA-F0-9]+$","type":"string"},"Mnemonic":{"title":"mnemonic","type":"string","description":"a list of 24 words"},"Passphrase":{"title":"passphrase","description":"passphrase used to encode keyfile (recommend to use 8+ words with good entropy)","type":"string"},"SignedTypedData":{"title":"SignedTypedData","type":"object","properties":{"types":{"type":"object","title":"types","properties":{"EIP712Domain":{"title":"eip712Domain","type":"array","items":{"$ref":"#/components/schemas/TypedData"}}},"additionalProperties":{"type":"array","items":{"$ref":"#/components/schemas/TypedData"}},"required":["EIP712Domain"]},"primaryType":{"type":"string"},"domain":{"type":"object"},"message":{"type":"object"}},"required":["types","primaryType","domain","message"]},"Transaction":{"title":"transaction","type":"object","required":["from","gas","gasPrice","nonce"],"properties":{"from":{"description":"Address of the sender","$ref":"#/components/schemas/Address"},"gas":{"title":"gas","type":"string","pattern":"^0x[a-fA-F0-9]+$","description":"The gas limit provided by the sender in Wei"},"gasPrice":{"title":"gasPrice","type":"string","pattern":"^0x[a-fA-F0-9]+$","description":"The gas price willing to be paid by the sender in Wei"},"data":{"title":"data","type":"string","pattern":"^0x[a-fA-F0-9]+$","description":"The data field sent with the transaction"},"nonce":{"title":"nonce","description":"The total number of prior transactions made by the sender","$ref":"#/components/schemas/Nonce"},"to":{"description":"address of the receiver. null when its a contract creation transaction","$ref":"#/components/schemas/Address"},"value":{"description":"Value of Ether being transferred in Wei","$ref":"#/components/schemas/Wei"}}},"TypedData":{"title":"TypedData","type":"object","properties":{"name":{"type":"string"},"type":{"type":"string"}}},"UUID":{"title":"uuid","type":"string","pattern":"^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[4][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}$"},"Wallet":{"title":"Wallet","type":"object","required":["uuid","hdPath","hidden"],"properties":{"uuid":{"$ref":"#/components/schemas/UUID"},"name":{"title":"walletName","type":"string"},"description":{"title":"walletDescription","type":"string"},"hdPath":{"title":"hdPath","type":"string"},"hidden":{"$ref":"#/components/schemas/Hidden"}}},"Wallets":{"title":"wallets","type":"array","items":{"$ref":"#/components/schemas/Wallet"}},"Wei":{"title":"wei","type":"string","description":"Hex representation of Wei","pattern":"^0x[a-fA-F0-9]+$"}},"contentDescriptors":{"PermissionsList":{"name":"permissionsList","summary":"list of permissions","description":"List of permissions a user has","schema":{"$ref":"#/components/schemas/PermissionsList"}},"Address":{"name":"address","summary":"Account address","required":true,"description":"hex-encoded 20 bytes public address","schema":{"$ref":"#/components/schemas/Address"}},"Hidden":{"name":"hidden","summary":"visible flag parameter","description":"A parameter to hide or show an account or feature","schema":{"$ref":"#/components/schemas/Hidden"}},"Keyfile":{"name":"keyfile","required":true,"summary":"keyfile - secret storage","description":"keyfile in json format that MUST comply with the [Web3 Secret Storage Definition](https://github.com/ethereumproject/wiki/wiki/Web3-Secret-Storage-Definition)","schema":{"$ref":"#/components/schemas/Keyfile"}},"ChainId":{"name":"chainId","summary":"Chain Idenifier for blockchain","description":"Specifies which chain to utilize","schema":{"$ref":"#/components/schemas/ChainId"}},"UUID":{"name":"uuid","summary":"UUIDv4 idenitifer for wallet","required":true,"description":"UUIDv4 identifier for HD wallet","schema":{"$ref":"#/components/schemas/UUID"}}}}}')},1418:function(e,t){},1512:function(e,t,n){},1513:function(e,t,n){"use strict";n.r(t);var a=n(30),r=n.n(a),i=n(0),c=n.n(i),o=n(10),s=n(413),u=n(40),l=n(134),m=n(626),d=n(1584),p=n(1585),f=n(1586),h=n(1517),g=n(1582),y=n(1565),b=n(646),E=n(1562),v=n(1588),x=n(645),S=n(1567),w=n(1594),O=n(135),T=n(1572),j=n(1573),C=n(1524),A=n(414),I=n(1574),D=n(1575),k=n(294),M=n.n(k),B=function(e,t){var n=e.methods.find((function(e){return e.name===t}));if(n)return{type:"object",properties:n.params&&n.params.reduce((function(e,t){return e[t.name]=Object(o.a)(Object(o.a)({},t.schema),{},{markdownDescription:t.description||t.summary,description:t.description||t.summary,additionalProperties:!1}),e}),{})}},P=(n(891),n(136)),N=n(410),R=n.n(N),L=n(1593),U=n(307),W=n(151),$=n(1571),q=Object(W.withTheme)(U.a),_=c.a.memo((function(e){return c.a.createElement(L.a,{open:e.open,anchor:"bottom",onClose:e.onClose,style:{position:"relative"}},c.a.createElement(h.a,{id:"cancel-button",style:{position:"absolute",top:"0px",right:"5px"},onClick:e.onClose},c.a.createElement($.a,null)),c.a.createElement("div",{id:e.id,style:{maxHeight:"90%",maxWidth:"400px",margin:"0 auto",paddingLeft:"25px",paddingRight:"25px",paddingBottom:"5px",paddingTop:"35px"}},e.header,c.a.createElement(q,{noHtml5Validate:!0,schema:e.schema,showErrorList:!1,formData:e.formData,liveValidate:!0,uiSchema:Object(o.a)({"ui:autoFocus":!0},e.uiSchema),onChange:e.onChange,onSubmit:e.onSubmit},c.a.createElement(E.a,{style:{marginTop:"10px"},type:"submit",variant:"contained",fullWidth:!0,color:"primary"},"Sign"))))})),H=n(305),F=n(640),z=function(e){var t=e.cards,n=e.onCardSelect;return c.a.createElement(c.a.Fragment,null,t.map((function(e,t){return c.a.createElement(A.a,{key:t,onClick:function(){return n&&n(e)},tabIndex:t+3,onKeyDown:function(t){13===t.keyCode&&n&&n(e)},style:{margin:"4px",padding:"0",borderRadius:"10px",position:"relative",textAlign:"left"}},c.a.createElement(V,{card:e}))})))},G={minHeight:"150px",width:"300px",borderRadius:"10px",background:"transparent",margin:"0px",display:"flex"},K={flexGrow:1,padding:0,margin:"16px",display:"flex"},J={borderRadius:"10px",width:"145px",minHeight:"115px"},X={width:"145px",minHeight:"115px",borderRadius:"10px"},V=function(e){var t=Object(l.useService)(e.card.ref),n=Object(u.a)(t,2),a=n[0],r=n[1],s=Object(i.useState)(),m=Object(u.a)(s,2),d=m[0],p=m[1],f=Object(H.a)().value?new R.a({lightness:[.3,.3,.3],saturation:[.4,.5,.6]}):new R.a({lightness:[.7,.37,.7],saturation:[.4,.5,.6]});return Object(i.useEffect)((function(){M.a.dereference(O||{}).then(p).catch((function(e){console.error("REFPARSER ERROR",e)}))}),[]),c.a.createElement(c.a.Fragment,null,d&&a.matches("selected")&&c.a.createElement(_,{schema:B(d,"sign"),formData:{address:e.card.address},open:a.matches({selected:"signMessage"}),onSubmit:function(e){return r("SUBMIT",e)},onClose:function(){return r("CANCEL")}}),d&&a.matches("selected")&&c.a.createElement(_,{schema:B(d,"signTransaction"),formData:{transaction:{from:e.card.address}},open:a.matches({selected:"signTransaction"}),onSubmit:function(){return r("SUBMIT")},onClose:function(){return r("CANCEL")}}),d&&a.matches("selected")&&c.a.createElement(_,{schema:B(d,"signTypedData"),formData:{address:e.card.address},open:a.matches({selected:"signTypedData"}),onSubmit:function(){return r("SUBMIT")},onClose:function(){return r("CANCEL")}}),c.a.createElement(y.a,{container:!0,direction:"column",justify:"center",alignItems:"center"},c.a.createElement(T.a,{style:Object(o.a)(Object(o.a)({},G),{},{position:"relative",overflow:"visible",cursor:a.matches("selected")?"initial":"pointer",zIndex:a.history&&"selected"===a.history.value||a.matches("selected")?1200:1}),className:a.matches("initial")&&a.history&&!1===a.history.matches("selected")?"fade-in":""},c.a.createElement(j.a,{style:Object(o.a)(Object(o.a)({},K),{},{zIndex:10})},c.a.createElement(y.a,{container:!0,direction:"column",justify:"space-between",style:{width:"265px"}},c.a.createElement(y.a,{container:!0,justify:"space-between"},c.a.createElement(P.a,{flipId:"account-".concat(e.card.name,"-").concat(e.card.address||e.card.uuid,"-name"),spring:"stiff",translate:!0},c.a.createElement("div",{style:{width:"230px",overflow:"hidden",textOverflow:"elipsis"}},c.a.createElement(b.a,{color:"textSecondary"},e.card.name))),c.a.createElement(P.a,{flipId:"account-".concat(e.card.name,"-").concat(e.card.address||e.card.uuid,"-hd"),spring:"stiff",translate:!0},e.card.uuid?c.a.createElement(C.a,{title:"HD Wallet"},c.a.createElement(I.a,null)):c.a.createElement(C.a,{title:"Account"},c.a.createElement(D.a,null)))),c.a.createElement(P.a,{flipId:"account-".concat(e.card.name,"-").concat(e.card.address||e.card.uuid,"-").concat(e.card.description,"-description"),spring:"stiff",translate:!0},c.a.createElement(b.a,{style:{fontSize:"14px"}},e.card.description)),c.a.createElement(P.a,{flipId:"account-".concat(e.card.name,"-").concat(e.card.address||e.card.uuid,"-address"),spring:"stiff",translate:!0,scale:!0},c.a.createElement(b.a,{style:{fontSize:"12px",fontFamily:"mono"}},e.card.address||e.card.uuid)),e.card.address&&c.a.createElement("div",{style:{animation:"qrcode-in 0.25s ease-in-out 0.05s both",opacity:a.matches("selected")?1:0,display:a.matches("selected")?"inherit":"none",margin:"0 auto",marginTop:"10px"}},c.a.createElement(F.QRCode,{value:e.card.address,bgColor:"transparent",size:240,quietZone:0,qrStyle:"dots"})))),c.a.createElement(P.a,{flipId:"account-".concat(e.card.address||e.card.uuid,"-background"),spring:"stiff"},c.a.createElement("div",{style:{margin:0,borderRadius:"10px",background:f.hex(e.card.address||e.card.uuid||"default").toString(),opacity:1},className:"card-background"}))),a.matches("selected")&&e.card.address&&c.a.createElement(y.a,{container:!0,justify:"center",alignItems:"center",style:{width:"300px",marginTop:"10px"}},c.a.createElement(A.a,{style:Object(o.a)(Object(o.a)({},X),{},{marginRight:"5px",marginBottom:"5px",animation:"item-in 0.25s ease-in-out 0.05s both"}),onClick:function(){return e.onSignTransaction&&e.onSignTransaction(e.card)}},c.a.createElement(T.a,{style:Object(o.a)(Object(o.a)({},J),{},{width:"100%",height:"100%"})},c.a.createElement(j.a,null,c.a.createElement(b.a,null,c.a.createElement("span",{role:"img","aria-label":"sign-transaction"},"\u270d\ufe0f")),c.a.createElement(b.a,null,"Sign Transaction")))),c.a.createElement(A.a,{style:Object(o.a)(Object(o.a)({},X),{},{marginLeft:"5px",marginBottom:"5px",animation:"item-in 0.25s ease-in-out 0.05s both"}),onClick:function(){return e.onSignMessage&&e.onSignMessage(e.card)}},c.a.createElement(T.a,{style:Object(o.a)(Object(o.a)({},J),{},{width:"100%",height:"100%"})},c.a.createElement(j.a,{style:{width:"80%",margin:"0 auto"}},c.a.createElement(b.a,null,c.a.createElement("span",{role:"img","aria-label":"sign-message"},"\ud83d\udd0f")),c.a.createElement(b.a,null,"Sign Message")))),c.a.createElement(A.a,{style:Object(o.a)(Object(o.a)({},X),{},{marginRight:"5px",marginTop:"5px",animation:"item-in 0.25s ease-in-out 0.15s both"}),onClick:function(){return e.onSignTypedData&&e.onSignTypedData(e.card)}},c.a.createElement(T.a,{style:Object(o.a)(Object(o.a)({},J),{},{width:"100%",height:"100%"})},c.a.createElement(j.a,null,c.a.createElement(b.a,null,c.a.createElement("span",{role:"img","aria-label":"sign-typed-data"},"\ud83d\udcdd")),c.a.createElement(b.a,null,"Sign Typed Data")))),c.a.createElement(A.a,{style:Object(o.a)(Object(o.a)({},X),{},{marginLeft:"5px",marginTop:"5px",animation:"item-in 0.25s ease-in-out 0.15s both"}),onClick:function(){var t,n,a;null===(t=e.card)||void 0===t||null===(n=t.ref)||void 0===n||null===(a=n.parent)||void 0===a||a.send("EXPORT",{address:e.card.address})}},c.a.createElement(T.a,{style:Object(o.a)(Object(o.a)({},J),{},{width:"100%",height:"100%"})},c.a.createElement(j.a,null,c.a.createElement(b.a,null,c.a.createElement("span",{role:"img","aria-label":"export-account"},"\ud83d\udd11")),c.a.createElement(b.a,null,"Export Account"))))),a.matches("selected")&&e.card.uuid&&c.a.createElement(y.a,{style:{marginTop:"10px"},container:!0,justify:"center",alignItems:"center",direction:"column"},c.a.createElement("div",{style:{width:"300px",marginBottom:"10px"}},c.a.createElement(A.a,{style:Object(o.a)(Object(o.a)({},X),{},{marginRight:"5px",marginBottom:"5px",animation:"item-in 0.25s ease-in-out 0.20s both"}),onClick:function(){return r("SHOW_SIGN_TRANSACTION")}},c.a.createElement(T.a,{style:Object(o.a)(Object(o.a)({},J),{},{width:"100%",height:"100%"})},c.a.createElement(j.a,null,c.a.createElement(b.a,null,c.a.createElement("span",{role:"img","aria-label":"new-account"},"\ud83d\udd10")),c.a.createElement(b.a,null,"New"),c.a.createElement(b.a,null,"Account"))))),c.a.createElement("div",{style:{animation:"item-in 0.25s ease-in-out 0.30s both"}},c.a.createElement(b.a,null,"Accounts")),c.a.createElement(y.a,{container:!0,justify:"center",alignItems:"center",style:{animation:e.hideAccountEntryAnimation?"none":"item-in 0.25s ease-in-out 0.30s both"}},c.a.createElement(z,{cards:a.context.card.accounts||[],onCardSelect:function(e){window.scroll({top:0}),e.ref&&e.ref.parent&&e.ref.parent&&e.ref.parent.parent&&e.ref.parent.parent.send("CARD.SELECT",e)}})))))},Y=n(1587),Q=n(43),Z=n(1576),ee=n(1577),te=n(1590),ne=n(1578),ae=n(1579),re=n(1580),ie=c.a.memo((function(e){var t=e.onDarkModeChange,n=e.darkMode,a=e.topItem,r=e.backItem,i=Object(Q.a)(),o=function(){!function(e){var t=window.screen.width-400,n=window.screen.height;window.open(e,"docs-sig-tools:popup","left=".concat(400,",top=").concat(0,",right=").concat(0,",width=").concat(t,",height=").concat(n,",resizable,scrollbars=yes,status=1"))}(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_DOCUMENTATION_URL||"https://docs.sig.tools")};return c.a.createElement(c.a.Fragment,null,c.a.createElement(Z.a,{elevation:0,position:"fixed"},c.a.createElement(ee.a,{style:{background:i.palette.background.default}},c.a.createElement(te.a,{width:"50px"},r),c.a.createElement(te.a,{flexGrow:1,style:{marginRight:"30px"}},a),c.a.createElement(C.a,{title:"Developer Documentation"},c.a.createElement(h.a,{onClick:function(){return o()},tabIndex:2},c.a.createElement(ne.a,null))),c.a.createElement(C.a,{title:"Toggle Theme"},c.a.createElement(h.a,{onClick:function(){return t(!!n)},tabIndex:2},n?c.a.createElement(ae.a,null):c.a.createElement(re.a,null))))))})),ce=n(642),oe=n(412),se=n.n(oe),ue={h1:{fontSize:"2.25rem",fontWeight:400},h2:{fontSize:"2rem",letterSpacing:"0",fontWeight:400},h3:{fontSize:"1.75rem",fontWeight:400},h4:{fontSize:"1.5rem",fontWeight:400},h5:{fontSize:"1.25rem",fontWeight:400},h6:{fontSize:"1.1rem",fontWeight:400},body1:{fontSize:"1.06rem"},fontSize:17},le=Object(ce.a)({props:{MuiAppBar:{position:"sticky"},MuiCard:{elevation:0}},overrides:{MuiAppBar:{root:{background:"#fff !important"}}},palette:{background:{default:"#fff"}},typography:ue}),me=Object(ce.a)({props:{MuiAppBar:{position:"sticky"},MuiCard:{elevation:0}},palette:{type:"dark",background:{default:"black",paper:se.a[800]}},overrides:{MuiAppBar:{root:{background:"transparent !important"}},MuiTable:{root:{background:"transparent !important"}},MuiTypography:{root:{color:se.a[400]}}},typography:ue}),de=n(1595),pe=n(1596),fe=n(1581),he=[{icon:c.a.createElement(D.a,null),name:"New Account",id:"account"}],ge=c.a.memo((function(e){var t=c.a.useState(!1),n=Object(u.a)(t,2),a=n[0],r=n[1];return c.a.createElement(de.a,{ariaLabel:"Create",icon:c.a.createElement(pe.a,null),onClick:function(){return r(!a)},open:a,style:{position:"fixed",top:e.offsetTop?"125px":"75px",right:"25px",zIndex:10},direction:"down"},he.map((function(t){return c.a.createElement(fe.a,{key:t.id,icon:t.icon,tooltipTitle:t.name,onClick:function(){r(!1),e.onActionClick(t.id)}})})))})),ye=c.a.memo((function(){return c.a.createElement(y.a,{container:!0,justify:"center",alignItems:"center"},c.a.createElement(b.a,{variant:"h6",color:"textSecondary",style:{fontWeight:900}},c.a.createElement("span",{role:"img","aria-label":"sig.tools-lock"},"\ud83d\udd10")," sig.tools"))})),be=n(196),Ee=n(11),ve=n.n(Ee),xe=n(64),Se=n(291),we=n(292),Oe=n(293),Te=Object(we.methods)(new Oe.a),je=function(e){var t=function(){var e=Object(xe.a)(ve.a.mark((function e(){return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Te.listAccounts());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{sign:function(){var t=Object(xe.a)(ve.a.mark((function t(n,a,r,i){return ve.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.appStateMachine.state.context.cards.find((function(e){return e.address===a}))&&e.appStateMachine.send("SHOW_SIGN_MESSAGE",{dataToSign:n,address:a,chainId:r,domain:i}),t.abrupt("return",new Promise((function(t,n){e.appStateMachine.stateMachineInstance.onTransition((function a(r,i){"CANCEL"===i.type?(e.appStateMachine.stateMachineInstance.off(a),n(new Error("User Rejected Request"))):"success"===r.value&&(e.appStateMachine.stateMachineInstance.off(a),t(r.context.result))}))})));case 3:case"end":return t.stop()}}),t)})));return function(e,n,a,r){return t.apply(this,arguments)}}(),signTransaction:function(){var t=Object(xe.a)(ve.a.mark((function t(n,a,r){var i;return ve.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=e.appStateMachine.state.context.cards.find((function(e){return e.address===n.from})),r||(r=a,a=void 0),i&&e.appStateMachine.send("SHOW_SIGN_TRANSACTION",{transaction:n,chainId:a,domain:r}),t.abrupt("return",new Promise((function(t,n){e.appStateMachine.stateMachineInstance.onTransition((function a(r,i){"CANCEL"===i.type?(e.appStateMachine.stateMachineInstance.off(a),n(new Error("User Rejected Request"))):"success"===r.value&&(e.appStateMachine.stateMachineInstance.off(a),t(r.context.result))}))})));case 4:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),signTypedData:function(){var t=Object(xe.a)(ve.a.mark((function t(n,a,r,i){return ve.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.appStateMachine.state.context.cards.find((function(e){return e.address===a}))&&e.appStateMachine.send("SHOW_SIGN_TYPED_DATA",{typedData:n,address:a,chainId:r,domain:i}),t.abrupt("return",new Promise((function(t,n){e.appStateMachine.stateMachineInstance.onTransition((function a(r,i){"CANCEL"===i.type?(e.appStateMachine.stateMachineInstance.off(a),n(new Error("User Rejected Request"))):"success"===r.value&&(e.appStateMachine.stateMachineInstance.off(a),t(r.context.result))}))})));case 3:case"end":return t.stop()}}),t)})));return function(e,n,a,r){return t.apply(this,arguments)}}(),createAccount:function(){var t=Object(xe.a)(ve.a.mark((function t(n,a){return ve.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.appStateMachine.send("CREATE_ACCOUNT",{newAccount:n,domain:a}),t.abrupt("return",new Promise((function(t,n){e.appStateMachine.stateMachineInstance.onTransition((function a(r,i){"CANCEL"===i.type?(e.appStateMachine.stateMachineInstance.off(a),n(new Error("User Rejected Request"))):"success"===r.value&&(e.appStateMachine.stateMachineInstance.off(a),t(r.context.result))}))})));case 2:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),importMnemonic:function(){var t=Object(xe.a)(ve.a.mark((function t(n,a){return ve.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.appStateMachine.send("CREATE_WALLET",{importMnemonicOptions:n,domain:a}),t.abrupt("return",new Promise((function(t,n){e.appStateMachine.stateMachineInstance.onTransition((function a(r,i){"CANCEL"===i.type?(e.appStateMachine.stateMachineInstance.off(a),n(new Error("User Cancelled"))):"success"===r.value&&(e.appStateMachine.stateMachineInstance.off(a),t(r.context.result))}))})));case 2:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),listAccounts:t}},Ce=n(114),Ae=n.n(Ce),Ie=function(e,t,n){return"requestPermissions"!==e.data.method&&"getPermissions"!==e.data.method||!Array.isArray(t.result)||(t.result=t.result.map((function(e){return Object(o.a)(Object(o.a)({},e),{},{"@context":[n]})}))),t},De=function(e){var t=e.code;return t&&4100===t&&(e.message="Unauthorized to perform action. Try requesting permission first using the `requestPermissions` method. More information available at https://eips.ethereum.org/EIPS/eip-2255"),e},ke=n(1130),Me=n(625),Be=function(e,t){var n=e.params.map((function(e){return e.name})).reduce((function(e,t,n){return Object(o.a)(Object(o.a)({},e),{},Object(Se.a)({},t,n))}),{});return Object.entries(t).sort((function(e,t){return n[e[0]]-n[t[0]]})).map((function(e){var t=Object(u.a)(e,2);t[0];return t[1]}))},Pe={},Ne=function(e,t,n){var a,r=function(){var e=Object(xe.a)(ve.a.mark((function e(n){return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){t.send("REQUEST_PERMISSIONS",n);t.onTransition((function r(i,c){"CANCEL"===c.type?(t.off(r),a(new Error("User Rejected Request"))):"SUBMIT"===c.type&&(t.off(r),e(n.permissions))}))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i=["createAccount","sign","signTypedData","signTransaction"];if(Pe[n.origin])a=Pe[n.origin];else{var c=Ae.a.chain(e).reduce((function(t,a,r){var c=O.methods.find((function(e){return e.name===r}));return i.includes(c.name)||(t[r]={description:c.description,method:function(t,a,i,o){var s=t.params instanceof Array?t.params:Be(c,t.params);e[r].apply(e,Object(be.a)(s).concat([n])).then((function(e){a.result=e,o()})).catch((function(e){a.error=e,o(e)}))}}),t}),{}).value();a=new ke.CapabilitiesController({safeMethods:i,restrictedMethods:c,requestUserApproval:r}),Pe[n.origin]=a}var o=new Me;return o.push(a.providerMiddlewareFunction.bind(a,n)),o.push((function(t,a,r,i){var c=O.methods.find((function(e){return e.name===t.method})),o=t.params instanceof Array?t.params:Be(c,t.params);e[t.method].apply(e,Object(be.a)(o).concat([n])).then((function(e){a.result=e,i()})).catch((function(e){a.error=e,i(e)}))})),o},Re=function(e){var t=je({appStateMachine:e.appStateMachine}),n=function(){var n=Object(xe.a)(ve.a.mark((function n(a){var r,i;return ve.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=Ne(t,e.appStateMachine.stateMachineInstance,{origin:a.origin}),a.origin!==window.origin){n.next=3;break}return n.abrupt("return");case 3:if(a.data.jsonrpc&&"2.0"===a.data.jsonrpc){n.next=5;break}return n.abrupt("return");case 5:if(!a.data||!a.data.error){n.next=7;break}return n.abrupt("return",console.error("JSONRPC ERROR",a.data.error));case 7:if("rpc.discover"!==a.data.method){n.next=11;break}return i={jsonrpc:"2.0",result:O,id:a.data.id},a.source.postMessage(i,"*"),n.abrupt("return");case 11:return n.abrupt("return",r.handle(a.data,(function(e,t){if(e)return e.message.includes("User Rejected Request")?a.source.postMessage({jsonrpc:"2.0",error:{code:4001,message:e.message},id:a.data.id},"*"):(e=De(e),void a.source.postMessage({jsonrpc:"2.0",error:{code:e.code||32329,message:e.message},id:a.data.id},"*"));a.source?a.source.postMessage(Ie(a,t,"https://sig.tools"),"*"):console.error("No origin defined")})));case 12:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return{start:function(){window.addEventListener("message",n)},stop:function(){if(!n)return new Error("Not started");window.removeEventListener("message",n)}}},Le=n(1591),Ue=Object(W.withTheme)(U.a),We=function(e){var t=Object(i.useState)(!0),n=Object(u.a)(t,2),a=n[0],r=n[1],s=Object(i.useState)(!1),l=Object(u.a)(s,2),m=l[0],d=l[1],p=Object(i.useState)(e.formData),f=Object(u.a)(p,2),g=f[0],v=f[1];return c.a.createElement(c.a.Fragment,null,c.a.createElement(x.a,{id:e.id,style:{position:"absolute",top:"0",left:"0",right:"0",bottom:"0",padding:"50px",overflowY:"auto",animation:"scale-".concat(a?"in":"out"," 0.3s cubic-bezier(0.4, 0.0, 0.2, 1) 0s both"),zIndex:1300}},c.a.createElement("div",{style:{maxWidth:"400px",margin:"0 auto"}},e.header,c.a.createElement(_,{onClose:function(){d(!1)},header:c.a.createElement(y.a,{container:!0,justify:"center",alignContent:"center"},c.a.createElement(b.a,{gutterBottom:!0},"Enter your passphrase.")),schema:{title:"passphrase",type:"string"},uiSchema:{"ui:widget":"password"},open:m,onSubmit:function(t){e.onSubmit&&e.onSubmit(Object(o.a)(Object(o.a)({},g),{},{passphrase:t.formData}))}}),!e.hideClose&&c.a.createElement(h.a,{id:"cancel",style:{position:"absolute",top:"0px",right:"5px",zIndex:1400},onClick:function(){r(!1),setTimeout((function(){e.onCancel&&e.onCancel()}),90)}},c.a.createElement($.a,null)),c.a.createElement(Ue,{noHtml5Validate:!0,schema:e.schema,showErrorList:!1,formData:e.formData,uiSchema:Object(o.a)({"ui:autoFocus":!0},e.uiSchema),widgets:Object(o.a)({},e.widgets),onSubmit:function(t){e.skipPassphrase&&e.onSubmit?e.onSubmit(t.formData):(v(t.formData),d(!0))}},c.a.createElement(E.a,{id:"submit",type:"submit",variant:"contained",fullWidth:!0,color:"primary"},e.title)))))},$e=n(309),qe=n(308),_e=n(1568),He=n(237),Fe=n(9),ze=n(113),Ge=Object(He.b)({initial:"numberonly",context:{hex:"",number:""},entry:Object(Fe.b)({hex:function(e,t){return e.hex},number:function(e,t){var n;if(!e.hex)return"";if(!e.hex.match(/^0x/))return"";try{n=Object(ze.hexToBigInt)(e.hex).toString()}catch(a){}return n||""}}),on:{HEX_INPUT:{actions:Object(Fe.b)({hex:function(e,t){return t.value},number:function(e,t){var n;if(!t.value.match(/^0x/))return"";try{n=Object(ze.hexToBigInt)(t.value).toString()}catch(a){}return n||""}})},NUMBER_INPUT:{actions:Object(Fe.b)({number:function(e,t){return t.value},hex:function(e,t){var n;try{n=Object(ze.bigIntToHex)(BigInt(t.value)).toString()}catch(a){}return n||"0x"}})}},states:{numberonly:{on:{TOGGLE:"all"}},all:{on:{TOGGLE:"numberonly"}}}}),Ke=n(1583),Je=function(e){var t=Object(l.useMachine)(Ge.withContext({hex:e.value,number:""})),n=Object(u.a)(t,3),a=n[0],r=n[1];return n[2].onChange((function(t){e.onChange&&e.onChange(t.hex)})),c.a.createElement(c.a.Fragment,null,c.a.createElement(b.a,{variant:"body2",gutterBottom:!0},e.schema.title),c.a.createElement(g.a,{style:{cursor:"pointer",userSelect:"none"}},c.a.createElement(b.a,{variant:"caption",color:"primary",onClick:function(){return r("TOGGLE")}},"raw")),c.a.createElement(y.a,{container:!0,justify:"flex-start",alignItems:"center"},a.matches("all")&&c.a.createElement(_e.a,{label:"Hex",variant:"outlined",value:a.context.hex||"",onChange:function(e){return r("HEX_INPUT",{value:e.target.value})},style:{width:"43%"}}),a.matches("all")&&c.a.createElement(Ke.a,null),c.a.createElement(_e.a,{type:"number",label:"Number",variant:"outlined",value:a.context.number||"",inputProps:{min:"0",step:"1"},onChange:function(e){return r("NUMBER_INPUT",{value:e.target.value})},style:{width:"43%"}})))},Xe=Object(He.b)({initial:"stringonly",context:{hex:"",string:""},entry:Object(Fe.b)({hex:function(e,t){return e.hex},string:function(e,t){var n;if(!e.hex)return"";if(!e.hex.match(/^0x/))return"";try{n=Object(ze.hexToString)(e.hex)}catch(a){}return n||""}}),on:{HEX_INPUT:{actions:Object(Fe.b)({hex:function(e,t){return t.value},string:function(e,t){var n;try{n=Object(ze.hexToString)(t.value||"")}catch(a){}return n||""}})},STRING_INPUT:{actions:Object(Fe.b)({string:function(e,t){return t.value},hex:function(e,t){return Object(ze.stringToHex)(t.value||"")}})}},states:{stringonly:{on:{TOGGLE:"all"}},all:{on:{TOGGLE:"stringonly"}}}}),Ve=function(e){var t=Object(l.useMachine)(Xe.withContext({hex:e.value,string:""})),n=Object(u.a)(t,3),a=n[0],r=n[1];return n[2].onChange((function(t){e.onChange&&e.onChange(t.hex)})),c.a.createElement(c.a.Fragment,null,c.a.createElement(b.a,{gutterBottom:!0},e.schema.title),c.a.createElement(g.a,{style:{cursor:"pointer",userSelect:"none"}},c.a.createElement(b.a,{variant:"caption",color:"primary",onClick:function(){return r("TOGGLE")}},"raw")),c.a.createElement(y.a,{container:!0,justify:"flex-start",alignItems:"center"},a.matches("all")&&c.a.createElement(_e.a,{label:"Hex",variant:"outlined",value:a.context.hex||"",onChange:function(e){return r("HEX_INPUT",{value:e.target.value})},style:{width:"43%"}}),a.matches("all")&&c.a.createElement(Ke.a,null),c.a.createElement(_e.a,{multiline:!0,label:"String",variant:"outlined",value:a.context.string||"",onChange:function(e){return r("STRING_INPUT",{value:e.target.value})},style:{width:"43%"}})))},Ye=m.a.withConfig({actions:{persist:function(e){localStorage.setItem("app-cards-state",JSON.stringify(e.cards))}}},{cards:[],formData:null,error:null,result:null,createData:null}),Qe=function(){var e,t=Object(l.useMachine)(Ye,{devTools:!0}),n=Object(u.a)(t,3),a=n[0],r=n[1],m=n[2],T=Object(i.useState)(),j=Object(u.a)(T,2),C=j[0],A=j[1],I=Object(H.a)(),D=I.value?me:le,k=a.context.cards.find((function(e){return e&&e.ref&&e.ref.state.matches("selected")}));k&&k.accounts&&k.ref&&(e=k.ref.state.context.card.accounts.find((function(e){return e&&e.ref&&e.ref.state.matches("selected")})));var N=Object(i.useState)(),R=Object(u.a)(N,2),L=R[0],U=R[1],W=Object(i.useState)(),q=Object(u.a)(W,2),_=q[0],F=q[1],G=a.context.formData||{metadata:{origin:""}},K=G.metadata,J=Object(s.a)(G,["metadata"]),X=a.context.createData||{domain:""},Q=X.domain,Z=Object(s.a)(X,["domain"]);J.domain&&(Q=J.domain,delete J.domain),Object(i.useEffect)((function(){_&&_.stop();var e=Re({appStateMachine:{send:r,state:a,stateMachineInstance:m}});e.start(),F(e)}),[a.context,a.value,m]),Object(i.useEffect)((function(){M.a.dereference(O||{}).then(U).catch((function(e){console.error("REFPARSER ERROR",e)}))}),[]),Object(i.useEffect)((function(){if(L){var e=Object(o.a)(Object(o.a)({},B(L,"createAccount")),{},{title:""});delete e.properties.newAccount.properties.description,delete e.properties.newAccount.properties.privateKey,A(e)}}),[L]);var ee,te,ne=function(e){r("SHOW_SIGN_MESSAGE",{address:e.address})},ae=function(e){r("SHOW_SIGN_TYPED_DATA",{address:e.address})},re=function(e){r("SHOW_SIGN_TRANSACTION",{transaction:{from:e.address}})},ce=Object(i.useState)(!0),oe=Object(u.a)(ce,2),se=oe[0],ue=oe[1];return c.a.createElement(d.a,{theme:D},c.a.createElement("div",{id:a.value}),c.a.createElement(p.a,null),c.a.createElement("div",{style:{marginTop:"70px"}}),c.a.createElement(f.a,{in:se},c.a.createElement(Le.a,{severity:"warning",action:c.a.createElement(h.a,{"aria-label":"close",color:"inherit",size:"small",onClick:function(){ue(!1)}},c.a.createElement($.a,{fontSize:"inherit"}))},c.a.createElement("b",null,"sig.tools")," is in early development",c.a.createElement("b",null," alpha"),". \xa0Some features are not available.\xa0",c.a.createElement(g.a,{href:"https://ethereumclassic.org/blog/2017-06-17-private-keys",color:"textSecondary"},"Use at your own risk."),"\xa0",c.a.createElement(g.a,{href:"https://github.com/etclabscore/sig.tools/issues",color:"secondary"},"Give Feedback."))),c.a.createElement(ie,{onDarkModeChange:I.toggle,darkMode:I.value,backItem:(ee=["details","nestedDetails"],te=a,!!ee.find((function(e){return te.matches(e)}))&&c.a.createElement(h.a,{id:"back",onClick:function(){r("BACK")},tabIndex:1},c.a.createElement(Y.a,null))),topItem:c.a.createElement(ye,null)}),!a.matches("signMessage")&&c.a.createElement(c.a.Fragment,null,c.a.createElement(P.b,{flipKey:a.value},c.a.createElement("div",{id:"scroll"},c.a.createElement(y.a,{container:!0,justify:"center",alignItems:"center"},"list"===a.value&&c.a.createElement(z,{cards:a.context.cards,onCardSelect:function(e){window.scroll({top:0}),r("CARD.SELECT",e)}}),"details"===a.value&&k&&c.a.createElement("div",{style:{width:"100%"}},c.a.createElement(V,{card:k,hideAccountEntryAnimation:a.history&&a.history.matches("nestedDetails"),onSignMessage:ne,onSignTypedData:ae,onSignTransaction:re})),"nestedDetails"===a.value&&e&&c.a.createElement("div",{style:{width:"100%"}},c.a.createElement(V,{card:e,onSignMessage:ne,onSignTypedData:ae,onSignTransaction:re}))))),"list"===a.value&&c.a.createElement(ge,{offsetTop:se,onActionClick:function(e){switch(e){case"account":r("CREATE_ACCOUNT");break;case"wallet":r("CREATE_WALLET")}}})),a.matches("signMessage")&&a.context.formData&&c.a.createElement(We,{id:"sign-message",uiSchema:{dataToSign:{"ui:widget":Ve},chainId:{"ui:widget":Je}},header:Q&&c.a.createElement(Le.a,{severity:"info",style:{marginBottom:"10px"},variant:"outlined"},c.a.createElement(b.a,{variant:"body1"},Q&&Q.origin)),schema:B(L,"sign"),formData:J,title:"Sign",onSubmit:function(e){return r("SUBMIT",Object(o.a)(Object(o.a)({},e),{},{type:"SUBMIT"}))},onCancel:function(){return r("CANCEL")}},c.a.createElement(E.a,{type:"submit",variant:"contained",fullWidth:!0,color:"primary"},"Sign")),a.matches("signTransaction")&&a.context.formData&&c.a.createElement(We,{id:"sign-transaction",title:"Sign Transaction",header:Q&&c.a.createElement(Le.a,{severity:"info",style:{marginBottom:"10px"},variant:"outlined"},c.a.createElement(b.a,{variant:"body1"},Q&&Q.origin)),uiSchema:{transaction:{value:{"ui:widget":Je},gas:{"ui:widget":Je},gasPrice:{"ui:widget":Je},nonce:{"ui:widget":Je}},chainId:{"ui:widget":Je}},schema:B(L,"signTransaction"),formData:a.context.formData,onSubmit:function(e){return r("SUBMIT",Object(o.a)(Object(o.a)({},e),{},{type:"SUBMIT"}))},onCancel:function(){return r("CANCEL")}},c.a.createElement(E.a,{type:"submit",variant:"contained",fullWidth:!0,color:"primary"},"Sign")),a.matches("signTypedData")&&a.context.formData&&c.a.createElement(We,{id:"sign-typed-data",header:Q&&c.a.createElement(Le.a,{severity:"info",style:{marginBottom:"10px"},variant:"outlined"},c.a.createElement(b.a,{variant:"body1"},Q&&Q.origin)),schema:B(L,"signTypedData"),formData:a.context.formData,uiSchema:{chainId:{"ui:widget":Je}},title:"Sign",onSubmit:function(e){r("SUBMIT",Object(o.a)(Object(o.a)({},e),{},{type:"SUBMIT"}))},onCancel:function(){return r("CANCEL")}},c.a.createElement(E.a,{type:"submit",variant:"contained",fullWidth:!0,color:"primary"},"Sign")),a.matches("createWallet")&&c.a.createElement(We,{id:"create-wallet",title:"Create Wallet",header:Q&&c.a.createElement(Le.a,{severity:"info",style:{marginBottom:"10px"},variant:"outlined"},c.a.createElement(b.a,{variant:"body1"},Q&&Q.origin)),skipPassphrase:!0,schema:B(L,"importMnemonic"),formData:Z,onSubmit:function(e){r("SUBMIT",Object(o.a)(Object(o.a)({},e),{},{type:"SUBMIT"}))},onCancel:function(){return r("CANCEL")}},c.a.createElement(E.a,{type:"submit",variant:"contained",fullWidth:!0,color:"primary"},"Create Wallet")),a.matches("createAccount")&&c.a.createElement(We,{title:"Create Account",skipPassphrase:!0,schema:B(L,"createAccount"),header:Q&&c.a.createElement(Le.a,{severity:"info",style:{marginBottom:"10px"},variant:"outlined"},c.a.createElement(b.a,{variant:"body1"},Q&&Q.origin)),uiSchema:{newAccount:{passphrase:{"ui:widget":"password"}}},formData:Object.assign({},{newAccount:{name:"\ud83e\uddd9\u200d\u2642\ufe0f"}},{newAccount:a.context.createData.newAccount}),onSubmit:function(e){r("SUBMIT",Object(o.a)(Object(o.a)({},e),{},{type:"SUBMIT"}))},onCancel:function(){return r("CANCEL")}},c.a.createElement(E.a,{type:"submit",variant:"contained",fullWidth:!0,color:"primary"},"Create Account")),(a.matches("signingMessage")||a.matches("creatingAccount")||a.matches("creatingWallet")||a.matches("signingTransaction")||a.matches("signingTypedData"))&&c.a.createElement(y.a,{container:!0,justify:"center",alignItems:"center",style:{paddingTop:"30px"}},c.a.createElement(v.a,null)),c.a.createElement(x.a,{id:"success",style:{position:"absolute",backgroundColor:$e.a[500],top:"0",left:"0",right:"0",bottom:"0",padding:"50px",overflow:"auto",width:"100%",opacity:0,pointerEvents:a.matches("success")?"all":"none",animation:a.matches("success")||a.history&&"success"===a.history.value?"scale-".concat(a.matches("success")?"in":"out"," 0.2s cubic-bezier(0.4, 0.0, 0.2, 1) 0s both"):"none",zIndex:1300}},c.a.createElement(h.a,{id:"cancel-button",style:{position:"fixed",top:"0px",right:"5px",zIndex:1400},onClick:function(){return r("CANCEL")}},c.a.createElement($.a,null)),c.a.createElement(b.a,{color:"textSecondary"},c.a.createElement("span",{role:"img","aria-label":"success"},"\ud83c\udf89")," Success"),c.a.createElement("pre",{style:{overflow:"auto"}},c.a.createElement("code",null,JSON.stringify(a.context.result,null,4))),c.a.createElement(E.a,{variant:"contained",onClick:function(){return r("CANCEL")}},"Ok")),c.a.createElement(x.a,{id:"error",style:{position:"absolute",backgroundColor:qe.a[500],width:"100%",top:"0",left:"0",right:"0",bottom:"0",padding:"50px",overflow:"auto",opacity:0,pointerEvents:a.matches("error")?"all":"none",animation:a.matches("error")||a.history&&"error"===a.history.value?"scale-".concat(a.matches("error")?"in":"out"," 0.2s cubic-bezier(0.4, 0.0, 0.2, 1) 0s both"):"none",zIndex:1300}},c.a.createElement(h.a,{id:"cancel-button",style:{position:"fixed",top:"0px",right:"5px",zIndex:1400},onClick:function(){return r("CANCEL")}},c.a.createElement($.a,null)),c.a.createElement(b.a,{color:"textPrimary"},"Error"),c.a.createElement("pre",{style:{overflow:"auto"}},c.a.createElement("code",null,a.context.error&&JSON.stringify(a.context.error,null,4)))),c.a.createElement(x.a,{id:"request-permissions",style:{position:"absolute",width:"100%",top:"0",left:"0",right:"0",bottom:"0",padding:"50px",overflow:"auto",display:0===a.context.cards.length?"none":"block",opacity:0,pointerEvents:a.matches("requestPermissions")?"all":"none",animation:a.matches("requestPermissions")||a.history&&"requestPermissions"===a.history.value?"scale-".concat(a.matches("requestPermissions")?"in":"out"," 0.2s cubic-bezier(0.4, 0.0, 0.2, 1) 0s both"):"none",zIndex:1300}},c.a.createElement(h.a,{id:"cancel",style:{position:"fixed",top:"0px",right:"5px",zIndex:1400},onClick:function(){return r("CANCEL")}},c.a.createElement($.a,null)),c.a.createElement(y.a,{container:!0},c.a.createElement(y.a,{container:!0,direction:"column",style:{marginBottom:"20px"}},c.a.createElement(b.a,{variant:"h3",gutterBottom:!0},"Permissions Needed"),c.a.createElement(Le.a,{severity:"info",style:{marginBottom:"10px"},variant:"outlined"},c.a.createElement(b.a,{variant:"body1"},K&&K.origin))),a.context.formData&&a.context.formData.permissions&&Ae.a.map(a.context.formData.permissions,(function(e,t){return c.a.createElement(y.a,{container:!0,direction:"row"},c.a.createElement(S.a,{control:c.a.createElement(w.a,{checked:!0,name:t}),label:"Trust this app to [".concat(t,"]?")}))})),c.a.createElement("div",{style:{width:"100%",marginBottom:"20px"}}),c.a.createElement(E.a,{id:"submit",variant:"contained",onClick:function(){return r("SUBMIT")}},"Trust"),c.a.createElement(E.a,{id:"cancel",onClick:function(){return r("CANCEL")}},"Decline"))),a.matches("onboarding")&&c.a.createElement(We,{id:"onboarding",skipPassphrase:!0,schema:C||{},hideClose:!0,uiSchema:{newAccount:{passphrase:{"ui:widget":"password"}}},header:c.a.createElement(y.a,{container:!0,direction:"row"},c.a.createElement(y.a,{item:!0,xs:4,container:!0,justify:"center",alignItems:"center"},c.a.createElement(b.a,{style:{fontSize:"100px"}},c.a.createElement("span",{role:"img","aria-label":"sig.tools"},"\ud83d\udd10"))),c.a.createElement(y.a,{item:!0,container:!0,direction:"column",xs:8,style:{marginTop:"20px"}},c.a.createElement(b.a,{variant:"h4",gutterBottom:!0},"Welcome to sig.tools"),c.a.createElement(b.a,{variant:"caption"},c.a.createElement("b",null,"sig.tools"),"\xa0is a tool to enable the distributed creation and (non-custodial) management of cryptographic accounts for the Ethereum Stack.",c.a.createElement(g.a,{href:"https://ethereumclassic.org/blog/2017-06-17-private-keys"},c.a.createElement("b",null,"\xa0sig.tools")," can ",c.a.createElement("b",null,"not")," recover funds"),". Keep your keyfile safe."))),formData:Object.assign({},{newAccount:{name:"\ud83e\uddd9\u200d\u2642\ufe0f"}},a.context.createData),title:"Set Up Your Account",onSubmit:function(e){return r("SUBMIT",Object(o.a)(Object(o.a)({},e),{},{type:"SUBMIT"}))}},c.a.createElement(E.a,{id:"submit",type:"submit",variant:"contained",fullWidth:!0,color:"primary"},"Submit")))};n(1512);r.a.render(c.a.createElement(Qe,null),document.getElementById("root"))},293:function(e,t,n){"use strict";var a=n(630),r=n(631),i=n(130),c=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"signatory-";Object(a.a)(this,e),this.storage=void 0,this.prefix=void 0,this.prefix=t,this.storage=window.localStorage}return Object(r.a)(e,[{key:"open",value:function(){return Promise.resolve()}},{key:"close",value:function(){return Promise.resolve()}},{key:"getAccount",value:function(e){return Promise.resolve(JSON.parse(this.getEntry(i.toChecksumAddress(e))))}},{key:"getHDWallet",value:function(e){return Promise.resolve(JSON.parse(this.getEntry(e)))}},{key:"storeAccount",value:function(e){var t=JSON.stringify(e);switch(e.type){case"deterministic":this.storage[this.prefix+e.uuid]=t;break;case"non-deterministic":this.storage[this.prefix+i.toChecksumAddress(e.address)]=t}return Promise.resolve(e)}},{key:"listWallets",value:function(e,t){var n=this,a=Object.keys(this.storage).filter((function(e){return e.startsWith(n.prefix)})).map((function(e){return JSON.parse(n.storage[e])})).filter((function(n){return n.type===e&&(n.visible||t)}));return Promise.resolve(a.map((function(e){var t=e.name,n=e.description,a=e.visible;switch(e.type){case"non-deterministic":return{address:e.address,parent:e.parent,name:t,description:n,type:e.type,hidden:!a};case"deterministic":return{uuid:e.uuid,name:t,description:n,hdPath:e.hdPath,type:e.type,hidden:!a}}return e})))}},{key:"getEntry",value:function(e){return this.storage[this.prefix+e]}}]),e}();t.a=c},409:function(e,t,n){"use strict";t.a=function(e,t){if(!e)return new Error("No Data");t||(t="keyfile-sig-tools.json"),"object"===typeof e&&(e=JSON.stringify(e,void 0,4));var n=new Blob([e],{type:"text/json"}),a=document.createEvent("MouseEvents"),r=document.createElement("a");r.download=t,r.href=window.URL.createObjectURL(n),r.dataset.downloadurl=["text/json",r.download,r.href].join(":"),a.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),r.dispatchEvent(a)}},626:function(e,t,n){"use strict";(function(e){var a=n(10),r=n(11),i=n.n(r),c=n(64),o=n(9),s=n(188),u=n(237),l=n(627),m=n(292),d=n(629),p=n(293),f=n(409),h=e.assert||null,g=Object(m.methods)(new p.a),y={id:"appMachine",initial:"idle",context:{cards:[],formData:null,error:null,result:null,createData:null},on:{REQUEST_PERMISSIONS:{target:"requestPermissions",actions:Object(o.b)({formData:function(e,t){return t}})},SHOW_SIGN_MESSAGE:{target:"signMessage",actions:Object(o.b)({formData:function(e,t){return t}})},SHOW_SIGN_TRANSACTION:{target:"signTransaction",actions:Object(o.b)({formData:function(e,t){return t}})},SHOW_SIGN_TYPED_DATA:{target:"signTypedData",actions:Object(o.b)({formData:function(e,t){return t}})},CREATE_ACCOUNT:{target:"createAccount",actions:Object(o.b)({createData:function(e,t){return t}})},CREATE_WALLET:{target:"createWallet",actions:Object(o.b)({createData:function(e,t){return t}})}},states:{onboarding:{meta:{test:function(e){var t=e.getByTestId;h.ok(t("onboarding"))}},on:{SUBMIT:"creatingAccount"}},idle:{meta:{test:function(e){var t=e.getByTestId;h.ok(t("idle"))}},invoke:{id:"signatoryListAccounts",src:function(){var e=Object(c.a)(i.a.mark((function e(t,n){var a,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.listAccounts();case 2:return a=e.sent,e.next=5,g.listWallets();case 5:return r=e.sent,e.abrupt("return",Object(d.a)(a,r));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),onDone:[{target:"onboarding",cond:function(e,t){return t.data&&0===t.data.length}},{meta:{test:function(e){var t=e.getByTestId;h.ok(t("idle"))}},target:"list",actions:Object(o.b)({cards:function(e,t){return t.data}})}],onError:{meta:{test:function(e){var t=e.getByTestId;h.ok(t("idle"))}},target:"error",actions:Object(o.b)({error:function(e,t){return t.data}})}}},list:{meta:{test:function(e){var t=e.getByTestId;h.ok(t("list"))}},entry:Object(o.b)({cards:function(e,t){return e.cards?e.cards.map((function(e){return Object(a.a)(Object(a.a)({},e),{},{ref:Object(s.c)(l.a.withContext({card:e}))})})):[]}}),on:{"CARD.SELECT":{target:"details",actions:function(e,t){t.ref.send("SELECT")}}}},details:{meta:{test:function(e){var t=e.getByTestId;h.ok(t("details"))}},on:{"CARD.SELECT":{target:"nestedDetails",actions:function(e,t){t.ref.send("SELECT")}},BACK:{target:"list"},EXPORT:{target:"details",actions:function(e,t){return new Promise((function(e,n){setTimeout(Object(c.a)(i.a.mark((function n(){var a;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,g.exportAccount(t.address);case 2:a=n.sent,Object(f.a)(a,"".concat(t.address,"-keyfile.json")),e();case 5:case"end":return n.stop()}}),n)}))),200)}))}}}},nestedDetails:{meta:{test:function(e){var t=e.getByTestId;h.ok(t("nested-details"))}},on:{BACK:{target:"details",actions:function(e,t){var n,a=e.cards.find((function(e){return e&&e.ref&&e.ref.state.matches("selected")}));a&&a.accounts&&a.ref&&(n=a.ref.state.context.card.accounts.find((function(e){return e&&e.ref&&e.ref.state.matches("selected")}))),n&&n.ref&&n.ref.send("DESELECT")}}}},requestPermissions:{meta:{test:function(e){var t=e.getByTestId;h.ok(t("request-permissions"))}},on:{CANCEL:"idle",SUBMIT:"idle"}},signMessage:{meta:{test:function(e){var t=e.getByTestId;h.ok(t("sign-message"))}},on:{CANCEL:"idle",SUBMIT:"signingMessage"}},createAccount:{meta:{test:function(e){var t=e.getByTestId;h.ok(t("createAccount"))}},on:{CANCEL:"idle",SUBMIT:"creatingAccount"}},creatingAccount:{meta:{test:function(e){var t=e.getByTestId;h.ok(t("creatingAccount"))}},invoke:{id:"signatoryCreateAccount",src:function(e,t){return new Promise((function(e,n){setTimeout((function(){g.createAccount(t.newAccount).then(function(){var t=Object(c.a)(i.a.mark((function t(n){var a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.exportAccount(n);case 2:a=t.sent,Object(f.a)(a,"".concat(n,"-keyfile.json")),e(n);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch(n)}),200)}))},onDone:{target:"success",actions:Object(o.b)({result:function(e,t){return t.data}})},onError:{target:"error",actions:Object(o.b)({error:function(e,t){return t.data}})}}},createWallet:{meta:{test:function(e){var t=e.getByTestId;h.ok(t("createWallet"))}},on:{CANCEL:"idle",SUBMIT:"creatingWallet"}},creatingWallet:{meta:{test:function(e){var t=e.getByTestId;h.ok(t("creatingWallet"))}},invoke:{id:"signatoryCreateWallet",src:function(e,t){return new Promise((function(e,n){setTimeout((function(){g.importMnemonic(t.importMnemonicOptions).then(e).catch(n)}),200)}))},onDone:{target:"success",actions:Object(o.b)({result:function(e,t){return t.data}})},onError:{target:"error",actions:Object(o.b)({error:function(e,t){return t.data}})}}},signingTypedData:{meta:{test:function(e){var t=e.getByTestId;h.ok(t("signingTypedData"))}},invoke:{id:"signatorySignTypedData",src:function(e,t){return g.signTypedData(t.typedData,t.address,t.passphrase,t.chainId)},onDone:{target:"success",actions:Object(o.b)({result:function(e,t){return t.data}})},onError:{target:"error",actions:Object(o.b)({error:function(e,t){return t.data}})}}},signingTransaction:{meta:{test:function(e){var t=e.getByTestId;h.ok(t("signingTransaction"))}},invoke:{id:"signatorySignTransaction",src:function(e,t){return new Promise((function(e,n){setTimeout((function(){g.signTransaction(t.transaction,t.passphrase,t.chainId).then(e).catch(n)}),200)}))},onDone:{target:"success",actions:Object(o.b)({result:function(e,t){return t.data}})},onError:{target:"error",actions:Object(o.b)({error:function(e,t){return t.data}})}}},signingMessage:{meta:{test:function(e){var t=e.getByTestId;h.ok(t("signingMessage"))}},invoke:{id:"signatorySignMessage",src:function(e,t){return new Promise((function(e,n){setTimeout((function(){g.sign(t.dataToSign,t.address,t.passphrase,t.chainId).then(e).catch(n)}),200)}))},onDone:{target:"success",actions:Object(o.b)({result:function(e,t){return t.data}})},onError:{target:"error",actions:Object(o.b)({error:function(e,t){return t.data}})}}},error:{meta:{test:function(e){var t=e.getByTestId;h.ok(t("error"))}},on:{CANCEL:"idle"}},success:{meta:{test:function(e){var t=e.getByTestId;h.ok(t("success"))}},on:{CANCEL:"idle"}},signTransaction:{meta:{test:function(e){var t=e.getByTestId;h.ok(t("sign-transaction"))}},on:{CANCEL:"list",SUBMIT:"signingTransaction"}},signTypedData:{meta:{test:function(e){var t=e.getByTestId;h.ok(t("signTypedData"))}},on:{CANCEL:"list",SUBMIT:"signingTypedData"}}}},b=Object(u.b)(y);t.a=b}).call(this,n(20))},627:function(e,t,n){"use strict";var a=n(10),r=n(237),i=n(9),c=n(188),o=Object(r.b)({id:"toggle",initial:"initial",context:{card:{}},states:{initial:{entry:Object(i.b)({card:function(e,t){var n=e.card;return n.accounts?Object(a.a)(Object(a.a)({},n),{},{accounts:n.accounts.map((function(e){return Object(a.a)(Object(a.a)({},e),{},{ref:Object(c.c)(o.withContext({card:e}))})}))}):n}}),on:{SELECT:"selected"}},selected:{on:{DESELECT:"initial"}}}});t.a=o},629:function(e,t,n){"use strict";var a=n(10),r=n(196),i=n(114),c=n.n(i);t.a=function(e,t){var n=c.a.groupBy(e,(function(e){return e.parent})),i=c.a.keyBy(t,(function(e){return e.uuid})),o={},s=[];return c.a.forEach(n,(function(e,t){"undefined"===t?s=s.concat(e):(o[t]=!0,s=[].concat(Object(r.a)(s),[Object(a.a)(Object(a.a)({},i[t]),{},{accounts:e})]))})),c.a.forEach(i,(function(e,t){o[t]||(s=[e].concat(Object(r.a)(s)))})),s}},666:function(e,t,n){e.exports=n(1513)},682:function(e,t){},684:function(e,t){},693:function(e,t){},695:function(e,t){},721:function(e,t){},722:function(e,t){},745:function(e,t){},819:function(e,t){},870:function(e,t){},877:function(e,t){},879:function(e,t){},891:function(e,t,n){}},[[666,1,2]]]);