(this["webpackJsonp@etclabscore/sig.tools"]=this["webpackJsonp@etclabscore/sig.tools"]||[]).push([[0],{100:function(e){e.exports=JSON.parse('{"openrpc":"1.1.12","info":{"version":"1.3.2","title":"Sig.tools","description":"\ud83d\udd10 sig.tools is a tool to enable the offline distributed generation and management of cryptographic accounts for the Ethereum Stack.","license":{"name":"Apache 2.0","url":"https://www.apache.org/licenses/LICENSE-2.0.html"}},"servers":[{"name":"sig.tools","x-transport":"postmessagewindow","description":"sig.tools JSON-RPC API is available over `postMessage`.","url":"https://sig.tools"}],"methods":[{"name":"getPermissions","description":"get users permissions","x-transport":"postmessagewindow","params":[],"result":{"$ref":"#/components/contentDescriptors/PermissionsList"}},{"name":"requestPermissions","description":"request additional permissions from the user","params":[{"name":"requestPermissionsObject","schema":{"title":"requestPermissionObject","type":"object","properties":{"listAccounts":{"type":"object"}}}}],"result":{"$ref":"#/components/contentDescriptors/PermissionsList"},"examples":[{"name":"requestPermissionObjectExample","description":"example for a permission request for listAccounts","params":[{"name":"requestPermissionObject","value":{"listAccounts":{}}}],"result":{"name":"permissionList","value":{}}}]},{"name":"listAccounts","summary":"Return the list of all not hidden (by default) accounts from the keystore","params":[{"$ref":"#/components/contentDescriptors/Hidden"}],"result":{"name":"accounts","description":"List of accounts according to flag","schema":{"$ref":"#/components/schemas/Accounts"}}},{"name":"listWallets","summary":"Return the list of all not hidden (by default) wallets from the keystore","params":[{"$ref":"#/components/contentDescriptors/Hidden"}],"result":{"name":"wallets","description":"List of all wallets according to hidden flag","schema":{"$ref":"#/components/schemas/Wallets"}}},{"name":"hideAccount","summary":"Hide an account from the list returned by default by `signer_listAccounts`","params":[{"$ref":"#/components/contentDescriptors/Address"}],"result":{"name":"hideAccountResult","description":"`true` if required account exists","schema":{"$ref":"#/components/schemas/AccountExists"}}},{"name":"unhideAccount","summary":"Show an account that was hidden before by the command `signer_hideAccount`","params":[{"$ref":"#/components/contentDescriptors/Address"}],"result":{"name":"unhideAccountResult","description":"`accept` (Boolean) - `true` if required account exists","schema":{"$ref":"#/components/schemas/AccountExists"}}},{"name":"createAccount","summary":"Creates a new account and stores it locally as a passphrase-encoded keystore file.","params":[{"name":"newAccount","description":"Creates a new account and stores it locally as a passphrase-encoded keystore file.","schema":{"title":"newAccount","type":"object","properties":{"name":{"title":"accountName","description":"account name","type":"string"},"description":{"title":"accountDescription","description":"account description","type":"string"},"passphrase":{"$ref":"#/components/schemas/Passphrase"},"privateKey":{"title":"privateKey","description":"optional private key field for importing","type":"string"}},"required":["name","passphrase"]},"required":true}],"result":{"$ref":"#/components/contentDescriptors/Address"},"examples":[{"name":"newAccountExample","description":"Example of creating a new account","params":[{"name":"testAccount","value":{"name":"my test wallet","description":"my test wallet description"}}],"result":{"name":"newAccountResultExample","value":"0x90ee510fb88ea47a84b45a6d983a0bc6b193e385"}}]},{"name":"signTransaction","summary":"Signs transaction offline with private key from keystore file with given from address and passphrase.","params":[{"name":"transaction","description":"transaction to sign","summary":"transaction","required":true,"schema":{"$ref":"#/components/schemas/Transaction"}},{"name":"chainId","required":true,"description":"chain id for the transaction","summary":"chain id for the transaction","schema":{"$ref":"#/components/schemas/ChainId"}}],"result":{"name":"signedTransaction","description":"Hex-encoded signed raw transaction data","schema":{"$ref":"#/components/schemas/HexString"}}},{"name":"signTypedData","summary":"Signs v4 typed data with private key from keystore file with given from address and passphrase.","params":[{"name":"typedData","description":"typedData to sign","summary":"EIP 712 TypedData","required":true,"schema":{"$ref":"#/components/schemas/SignedTypedData"}},{"name":"address","description":"address to send transaction to","summary":"Address to send transaction from","required":true,"schema":{"$ref":"#/components/schemas/Address"}},{"name":"chainId","required":true,"description":"chainId for tthe signed type data transaction","summary":"transaction chainId","schema":{"$ref":"#/components/schemas/ChainId"}}],"result":{"name":"signedTypedData","description":"Hex-encoded signed raw typed data","schema":{"title":"signedTypedDataResult","type":"object","properties":{"signature":{"$ref":"#/components/schemas/HexString"},"encodedData":{"$ref":"#/components/schemas/HexString"}},"required":["signature","encodedData"]}},"examples":[{"name":"signedTypeDataExample","description":"A signedTypedData Example","params":[{"name":"signedTypedData","description":"SignedTypedData object","summary":"Example signed typed data payload","value":{"types":{"EIP712Domain":[{"name":"name","type":"string"},{"name":"version","type":"string"},{"name":"chainId","type":"uint256"},{"name":"verifyingContract","type":"address"}],"Person":[{"name":"name","type":"string"},{"name":"wallet","type":"address"}],"Mail":[{"name":"from","type":"Person"},{"name":"to","type":"Person"},{"name":"contents","type":"string"}]},"primaryType":"Mail","domain":{"name":"Ether Mail","version":"1","chainId":1,"verifyingContract":"0xCcCCccccCCCCcCCCCCCcCcCccCcCCCcCcccccccC"},"message":{"from":{"name":"Cow","wallet":"0xCD2a3d9F938E13CD947Ec05AbC7FE734Df8DD826"},"to":{"name":"Bob","wallet":"0xbBbBBBBbbBBBbbbBbbBbbbbBBbBbbbbBbBbbBBbB"},"contents":"Hello, Bob!"}}},{"name":"address","description":"Sender address","summary":"Address to send sign typed data from","value":"0xCD2a3d9F938E13CD947Ec05AbC7FE734Df8DD826"},{"name":"chainId","description":"chainId for transaction","summary":"chainId to sign the data with","value":"0x6"}],"result":{"name":"signedTypedDataExampleResult","description":"An example result of the signedTyped Data","summary":"Demonstrates the return format of example","value":{"signature":"0x4355c47d63924e8a72e509b65029052eb6c299d53a04e167c5775fd466751c9d07299936d304c153f6443dfa05f40ff007d72911b6f72307f996231605b9156226","encodedData":"0xbe609aee343fb3c4b28e1df9e632fca64fcfaede20f02e86244efddf30957bd2"}}}]},{"name":"generateMnemonic","summary":"Generate a mnemonic phrase","description":"Generates a new 24 words long mnemonic phrase","params":[],"result":{"name":"mnemonicPhrase","description":"Mnemonic phrase is a list of 24 words","schema":{"$ref":"#/components/schemas/Mnemonic"}}},{"name":"importMnemonic","summary":"Import a mnemonic phrase","description":"Creates a new account from a mnemonic and stores it locally as a passphrase-encoded keystore file.","params":[{"required":true,"name":"importMnemonicOptions","schema":{"title":"importMnemonicOptions","type":"object","required":["mnemonic","hdPath","passphrase"],"properties":{"mnemonic":{"$ref":"#/components/schemas/Mnemonic"},"name":{"title":"mnemonicName","type":"string"},"description":{"title":"mnemonicDescription","type":"string"},"passphrase":{"$ref":"#/components/schemas/Passphrase"},"hdPath":{"title":"mnemonicHDPath","type":"string"}}}}],"result":{"name":"uuidResult","schema":{"type":"string"}},"examples":[{"name":"importMnemonicExample","description":"example of importing a mnemonic phrase","params":[{"name":"importMnemonicOptionsExample","description":"example of import mnemonic options","value":{"name":"my imported wallet","description":"my imported wallet description","hdPath":"m/44/60/160720\'/0","mnemonic":"icon suggest road current ripple engage spell clay route large arena climb oxygen electric cupboard dream title immune fit beyond mouse slab bronze salad"}}],"result":{"name":"importMnemonicResultExample","description":"example of import mnemonic result","value":"35ee9c7a-8ce5-48b7-80c3-7ad6602d43f4"}}]},{"name":"getAccountFromMnemonic","summary":"Get account from mnemonic wallet","description":"Returns address of account computed from the HDWallet specified","params":[{"name":"accountFromMnemonicOptions","description":"mnemonic account generation options","required":true,"schema":{"title":"AccountMnemonicOptions","type":"object","properties":{"uuid":{"title":"uuid","schema":{"type":"string"}},"index":{"title":"index","schema":{"type":"number"}}},"required":["uuid"]}}],"result":{"$ref":"#/components/contentDescriptors/Address"},"examples":[{"name":"getAccountFromMnemonicExample","description":"example of importing a mnemonic phrase","params":[{"name":"accountFromMnemonicOptions","description":"example of get mnemonic account","value":{"uuid":"35ee9c7a-8ce5-48b7-80c3-7ad6602d43f4"}}],"result":{"name":"getAccountFromMnemonicResultExample","description":"example of get account from mnemonic result","value":"0xa0dfb14b391590faff0d6b37bf2916f27cd15a28"}}]},{"name":"exportAccount","summary":"Export an account","description":"Export a keyfile associated with account. Keyfile uses the [Web3 Secret Storage Definition](https://github.com/ethereumproject/wiki/wiki/Web3-Secret-Storage-Definition)","params":[{"$ref":"#/components/contentDescriptors/Address"}],"result":{"$ref":"#/components/contentDescriptors/Keyfile"}},{"name":"sign","summary":"Sign a message","description":"Calculates an Ethereum-specific signature in the form of keccak256(\\"\\\\x19Ethereum Signed Message:\\n\\" + len(message) + message))","params":[{"name":"dataToSign","description":"data to sign","summary":"sign data","schema":{"$ref":"#/components/schemas/HexString"},"required":true},{"name":"address","required":true,"schema":{"$ref":"#/components/schemas/Address"}},{"name":"chainId","required":true,"description":"chain id for the transaction","summary":"chain id for the transaction","schema":{"$ref":"#/components/schemas/ChainId"}}],"result":{"name":"signedMessageData","description":"signature hash of the provided data","schema":{"$ref":"#/components/schemas/HexString"}},"examples":[{"name":"signMessageExample","params":[{"name":"dataToSign","value":"0x74657374"},{"name":"address","value":"0x90ee510fb88ea47a84b45a6d983a0bc6b193e385"},{"name":"chainId","value":"0x3d"}],"result":{"name":"signMessageResultExample","description":"The signed message","value":"0xb93eaad09a1ce33bf9b500a73be6faf5d2d4816a563f4ebce0f14f9e38e9583640163b319ccc33a84a435799226438f2376ec851ea82aa49b34675ac8c6fc1039e"}}]}],"components":{"schemas":{"PermissionsList":{"type":"array","items":{"$ref":"#/components/schemas/Permissions"}},"Permissions":{"type":"object"},"AccountExists":{"title":"AccountExists","type":"boolean"},"Address":{"title":"address","type":"string","pattern":"^0x[a-fA-F\\\\d]{40}$"},"Account":{"title":"Account","type":"object","required":["address","hidden"],"properties":{"address":{"$ref":"#/components/schemas/Address"},"name":{"title":"accountName","type":"string"},"description":{"title":"accountDescription","type":"string"},"hidden":{"$ref":"#/components/schemas/Hidden"}}},"Accounts":{"title":"accounts","type":"array","items":{"$ref":"#/components/schemas/Account"}},"ChainId":{"title":"chainId","type":"string","pattern":"^0x[a-fA-F0-9]+$"},"HexString":{"title":"hexString","type":"string","pattern":"^0x[a-fA-F0-9]+$"},"Hidden":{"title":"hidden","type":"boolean"},"Keyfile":{"title":"keyfile","type":"object","properties":{"version":{"type":"integer"},"id":{"type":"string"},"crypto":{"title":"crypto","type":"object","properties":{"ciphertext":{"type":"string"},"cipherparams":{"type":"object","properties":{"iv":{"title":"iv","type":"string"}}},"cipher":{"type":"string"},"kdf":{"type":"string"},"kdfparams":{"type":"object","properties":{"dklen":{"title":"dklen","type":"integer"},"salt":{"type":"string"},"n":{"type":"integer"},"r":{"type":"integer"},"p":{"type":"integer"}},"required":["dklen","salt","n","r","p"]},"mac":{"type":"string"}},"required":["kdfparams","kdf","cipher","cipherparams","ciphertext","mac"]}},"required":["crypto","id","version"]},"Nonce":{"title":"nonce","description":"A number only to be used once","pattern":"^0x[a-fA-F0-9]+$","type":"string"},"Mnemonic":{"title":"mnemonic","type":"string","description":"a list of 24 words"},"Passphrase":{"title":"passphrase","description":"passphrase used to encode keyfile (recommend to use 8+ words with good entropy)","type":"string"},"SignedTypedData":{"title":"SignedTypedData","type":"object","properties":{"types":{"type":"object","title":"types","properties":{"EIP712Domain":{"title":"eip712Domain","type":"array","items":{"$ref":"#/components/schemas/TypedData"}}},"additionalProperties":{"type":"array","items":{"$ref":"#/components/schemas/TypedData"}},"required":["EIP712Domain"]},"primaryType":{"type":"string"},"domain":{"type":"object"},"message":{"type":"object"}},"required":["types","primaryType","domain","message"]},"Transaction":{"title":"transaction","type":"object","required":["from","gas","gasPrice","nonce"],"properties":{"from":{"description":"Address of the sender","$ref":"#/components/schemas/Address"},"gas":{"title":"gas","type":"string","pattern":"^0x[a-fA-F0-9]+$","description":"The gas limit provided by the sender in Wei"},"gasPrice":{"title":"gasPrice","type":"string","pattern":"^0x[a-fA-F0-9]+$","description":"The gas price willing to be paid by the sender in Wei"},"data":{"title":"data","type":"string","pattern":"^0x[a-fA-F0-9]+$","description":"The data field sent with the transaction"},"nonce":{"title":"nonce","description":"The total number of prior transactions made by the sender","$ref":"#/components/schemas/Nonce"},"to":{"description":"address of the receiver. null when its a contract creation transaction","$ref":"#/components/schemas/Address"},"value":{"description":"Value of Ether being transferred in Wei","$ref":"#/components/schemas/Wei"}}},"TypedData":{"title":"TypedData","type":"object","properties":{"name":{"type":"string"},"type":{"type":"string"}}},"UUID":{"title":"uuid","type":"string","pattern":"^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[4][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}$"},"Wallet":{"title":"Wallet","type":"object","required":["uuid","hdPath","hidden"],"properties":{"uuid":{"$ref":"#/components/schemas/UUID"},"name":{"title":"walletName","type":"string"},"description":{"title":"walletDescription","type":"string"},"hdPath":{"title":"hdPath","type":"string"},"hidden":{"$ref":"#/components/schemas/Hidden"}}},"Wallets":{"title":"wallets","type":"array","items":{"$ref":"#/components/schemas/Wallet"}},"Wei":{"title":"wei","type":"string","description":"Hex representation of Wei","pattern":"^0x[a-fA-F0-9]+$"}},"contentDescriptors":{"PermissionsList":{"name":"permissionsList","summary":"list of permissions","description":"List of permissions a user has","schema":{"$ref":"#/components/schemas/PermissionsList"}},"Address":{"name":"address","summary":"Account address","required":true,"description":"hex-encoded 20 bytes public address","schema":{"$ref":"#/components/schemas/Address"}},"Hidden":{"name":"hidden","summary":"visible flag parameter","description":"A parameter to hide or show an account or feature","schema":{"$ref":"#/components/schemas/Hidden"}},"Keyfile":{"name":"keyfile","required":true,"summary":"keyfile - secret storage","description":"keyfile in json format that MUST comply with the [Web3 Secret Storage Definition](https://github.com/ethereumproject/wiki/wiki/Web3-Secret-Storage-Definition)","schema":{"$ref":"#/components/schemas/Keyfile"}},"ChainId":{"name":"chainId","summary":"Chain Idenifier for blockchain","description":"Specifies which chain to utilize","schema":{"$ref":"#/components/schemas/ChainId"}},"UUID":{"name":"uuid","summary":"UUIDv4 idenitifer for wallet","required":true,"description":"UUIDv4 identifier for HD wallet","schema":{"$ref":"#/components/schemas/UUID"}}}}}')},454:function(e){e.exports=JSON.parse('{"name":"@etclabscore/sig.tools","version":"1.3.2","description":"","main":"build/index.js","scripts":{"start":"react-scripts start","build":"react-scripts build","build:sdk":"open-rpc-generator generate -c open-rpc-generator-config.json","lint":"tslint --fix -p .","test":"react-scripts test --coverage --passWithNoTests","typings":"open-rpc-typings -d src/openrpc.json --output-ts src/postMessageServer/__GENERATED_TYPES__/"},"author":"","license":"Apache-2.0","devDependencies":{"@open-rpc/generator":"^1.18.6","@open-rpc/typings":"^1.9.0","@testing-library/react":"^10.0.4","@types/jest":"^24.0.13","@types/react-dom":"^16.8.4","jest":"^24.9.0","react-scripts":"^3.4.3","ts-jest":"^25.3.0","tslint":"^5.17.0","typedoc":"^0.17.0-3","typescript":"^3.9.2"},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]},"dependencies":{"@apidevtools/json-schema-ref-parser":"^8.0.0","@etclabscore/eserialize":"^1.1.2","@etclabscore/rjsf-material-ui":"^1.0.0","@etclabscore/signatory-core":"^1.0.1","@material-ui/core":"^4.9.12","@material-ui/icons":"^4.9.1","@material-ui/lab":"^4.0.0-alpha.51","@open-rpc/meta-schema":"^1.12.6","@rjsf/core":"^2.0.0-alpha.4","@types/color-hash":"^1.0.0","@types/lodash":"^4.14.149","@types/react-jsonschema-form":"^1.7.1","@xops.net/rpc-cap":"^3.3.1","@xstate/inspect":"^0.1.1","@xstate/react":"^1.0.1","@xstate/test":"^0.4.0","color-hash":"^1.0.3","flipping":"^1.1.0","json-rpc-engine":"^5.1.8","json-schema-ref-parser":"^8.0.0","lodash":"^4.17.20","puppeteer":"^3.0.2","react":"^16.8.6","react-dom":"^16.8.6","react-flip-toolkit":"^7.0.9","react-hotkeys":"^2.0.0","react-hotkeys-hook":"^2.1.3","react-jsonschema-form":"^1.8.1","react-qrcode-logo":"^2.2.1","use-dark-mode":"^2.3.1","use-deep-compare-effect":"^1.4.0","xstate":"^4.13.0"}}')},480:function(e,t,n){e.exports=n(971)},498:function(e,t){},500:function(e,t){},509:function(e,t){},511:function(e,t){},537:function(e,t){},538:function(e,t){},561:function(e,t){},632:function(e,t){},683:function(e,t){},691:function(e,t){},693:function(e,t){},706:function(e,t,n){},970:function(e,t,n){},971:function(e,t,n){"use strict";n.r(t);var a=n(439);window.location.search.includes("?inspect")&&Object(a.a)({url:"https://statecharts.io/inspect",iframe:!1});var r=n(24),i=n.n(r),c=n(0),o=n.n(c),s=n(8),u=n(295),l=n(22),m=n(1062),d=n(9),p=n.n(d),f=n(25),h=n(21),g=n(972),b=n(985),y=Object(b.a)({id:"cardMachine",initial:"initial",context:{card:{}},states:{initial:{entry:Object(h.b)({card:function(e,t){var n=e.card;return n.accounts?Object(s.a)(Object(s.a)({},n),{},{accounts:n.accounts.map((function(e){return Object(s.a)(Object(s.a)({},e),{},{ref:Object(g.b)(y.withContext({card:e}))})}))}):n}}),on:{SELECT:"selected"}},selected:{on:{DESELECT:"initial"}}}}),E=y,v=n(204),x=n(101),j=n(43),S=n.n(j),O=function(e,t){var n=S.a.groupBy(e,(function(e){return e.parent})),a=S.a.keyBy(t,(function(e){return e.uuid})),r={},i=[];return S.a.forEach(n,(function(e,t){"undefined"===t?i=i.concat(e):(r[t]=!0,i=[].concat(Object(x.a)(i),[Object(s.a)(Object(s.a)({},a[t]),{},{accounts:e})]))})),S.a.forEach(a,(function(e,t){r[t]||(i=[e].concat(Object(x.a)(i)))})),i},w=n(441),C=n(442),k=n(96),T=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"signatory-";Object(w.a)(this,e),this.storage=void 0,this.prefix=void 0,this.prefix=t,this.storage=window.localStorage}return Object(C.a)(e,[{key:"open",value:function(){return Promise.resolve()}},{key:"close",value:function(){return Promise.resolve()}},{key:"getAccount",value:function(e){return Promise.resolve(JSON.parse(this.getEntry(k.toChecksumAddress(e))))}},{key:"getHDWallet",value:function(e){return Promise.resolve(JSON.parse(this.getEntry(e)))}},{key:"storeAccount",value:function(e){var t=JSON.stringify(e);switch(e.type){case"deterministic":this.storage[this.prefix+e.uuid]=t;break;case"non-deterministic":this.storage[this.prefix+k.toChecksumAddress(e.address)]=t}return Promise.resolve(e)}},{key:"listWallets",value:function(e,t){var n=this,a=Object.keys(this.storage).filter((function(e){return e.startsWith(n.prefix)})).map((function(e){return JSON.parse(n.storage[e])})).filter((function(n){return n.type===e&&(n.visible||t)}));return Promise.resolve(a.map((function(e){var t=e.name,n=e.description,a=e.visible;switch(e.type){case"non-deterministic":var r=e.address,i=e.parent;return S.a.omitBy({address:r,parent:i,name:t,description:n,type:e.type,hidden:!a},S.a.isUndefined);case"deterministic":return{uuid:e.uuid,name:t,description:n,hdPath:e.hdPath,type:e.type,hidden:!a}}return e})))}},{key:"getEntry",value:function(e){return this.storage[this.prefix+e]}}]),e}(),A=function(e,t){if(!e)return new Error("No Data");t||(t="keyfile-sig-tools.json"),"object"===typeof e&&(e=JSON.stringify(e,void 0,4));var n=new Blob([e],{type:"text/json"}),a=document.createEvent("MouseEvents"),r=document.createElement("a");r.download=t,r.href=window.URL.createObjectURL(n),r.dataset.downloadurl=["text/json",r.download,r.href].join(":"),a.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),r.dispatchEvent(a)},D=Object(v.methods)(new T),P={id:"appMachine",initial:"idle",context:{cards:[],formData:null,error:null,result:null,createData:null},on:{REQUEST_PERMISSIONS:{target:"requestPermissions",cond:function(e,t){return e.cards.length>0},actions:Object(h.b)({formData:function(e,t){return t.approvalRequest},invokePromiseSuccess:function(e,t){return t.invokePromiseSuccess},invokePromiseReject:function(e,t){return t.invokePromiseReject}})},SHOW_SIGN_MESSAGE:{target:"signMessage",cond:function(e,t){return!!e.cards.find((function(e){return e.address===t.address}))},actions:Object(h.b)({formData:function(e,t){return t},invokePromiseSuccess:function(e,t){return t.invokePromiseSuccess},invokePromiseReject:function(e,t){return t.invokePromiseReject}})},SHOW_SIGN_TRANSACTION:{target:"signTransaction",cond:function(e,t){return!!e.cards.find((function(e){return e.address===t.transaction.from}))},actions:Object(h.b)({formData:function(e,t){return t},invokePromiseSuccess:function(e,t){return t.invokePromiseSuccess},invokePromiseReject:function(e,t){return t.invokePromiseReject}})},SHOW_SIGN_TYPED_DATA:{target:"signTypedData",cond:function(e,t){return!!e.cards.find((function(e){return e.address===t.address}))},actions:Object(h.b)({formData:function(e,t){return t},invokePromiseSuccess:function(e,t){return t.invokePromiseSuccess},invokePromiseReject:function(e,t){return t.invokePromiseReject}})},CREATE_ACCOUNT:{target:"createAccount",actions:Object(h.b)({createData:function(e,t){return t},invokePromiseSuccess:function(e,t){return t.invokePromiseSuccess},invokePromiseReject:function(e,t){return t.invokePromiseReject}})},CREATE_WALLET:{target:"createWallet",actions:Object(h.b)({createData:function(e,t){return t},invokePromiseSuccess:function(e,t){return t.invokePromiseSuccess},invokePromiseReject:function(e,t){return t.invokePromiseReject}})}},states:{onboarding:{on:{SUBMIT:"creatingAccount"}},idle:{invoke:{id:"signatoryListAccounts",src:function(){var e=Object(f.a)(p.a.mark((function e(t,n){var a,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.listAccounts();case 2:return a=e.sent,e.next=5,D.listWallets();case 5:return r=e.sent,e.abrupt("return",O(a,r));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),onDone:[{target:"onboarding",cond:function(e,t){return t.data&&0===t.data.length}},{target:"list",actions:Object(h.b)({cards:function(e,t){return t.data}})}],onError:{target:"error",actions:Object(h.b)({error:function(e,t){return t.data}})}}},list:{onEntry:[Object(h.b)({cards:function(e,t){return e.cards?e.cards.map((function(e){return e.ref?e:Object(s.a)(Object(s.a)({},e),{},{ref:Object(g.b)(E.withContext({card:e}))})})):[]}}),function(e,t){e.cards.forEach((function(e){e.ref&&e.ref.send("DESELECT")}))}],on:{"CARD.SELECT":{target:"details",actions:function(e,t){t.ref.send("SELECT")}}}},details:{on:{"CARD.SELECT":{target:"nestedDetails",actions:function(e,t){t.ref.send("SELECT")}},BACK:{target:"list"},EXPORT:{target:"details",actions:function(e,t){return new Promise((function(e,n){setTimeout(Object(f.a)(p.a.mark((function n(){var a;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,D.exportAccount(t.address);case 2:a=n.sent,A(a,"".concat(t.address,"-keyfile.json")),e();case 5:case"end":return n.stop()}}),n)}))),300)}))}}}},nestedDetails:{on:{BACK:{target:"details",actions:function(e,t){var n,a=e.cards.find((function(e){return e&&e.ref&&e.ref.state.matches("selected")}));a&&a.accounts&&a.ref&&(n=a.ref.state.context.card.accounts.find((function(e){return e&&e.ref&&e.ref.state.matches("selected")}))),n&&n.ref&&n.ref.send("DESELECT")}}}},requestPermissions:{on:{CANCEL:"cancelling",ACCOUNTS_CHANGED:{actions:Object(h.b)({caveats:function(e,t){var n=e.cards.filter((function(e){return t.accounts.includes(e)}));if(0!==n.length)return{name:"filteredAccounts",type:"filterResponse",value:n.map((function(e){return S.a.omitBy({address:e.address,name:e.name,hidden:e.hidden,description:e.description,parent:e.parent},S.a.isUndefined)}))}}})},SUBMIT:{target:"success",cond:function(e,t){return!!e.caveats&&e.caveats},actions:Object(h.b)({result:function(e,t){return"Granted Permissions"}})}}},cancelling:{after:{0:"idle"},invoke:{id:"invokePromiseReject",src:function(){var e=Object(f.a)(p.a.mark((function e(t,n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.invokePromiseReject){e.next=2;break}return e.abrupt("return",t.invokePromiseReject(t,n));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),onDone:{actions:Object(h.b)({invokePromiseSuccess:function(){},invokePromiseReject:function(){}})}}},signMessage:{on:{CANCEL:"cancelling",SUBMIT:"signingMessage"}},createAccount:{on:{CANCEL:"cancelling",SUBMIT:"creatingAccount"}},creatingAccount:{invoke:{id:"signatoryCreateAccount",src:function(e,t){return new Promise((function(e,n){setTimeout((function(){D.createAccount(t.newAccount).then(function(){var t=Object(f.a)(p.a.mark((function t(n){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D.exportAccount(n);case 2:a=t.sent,A(a,"".concat(n,"-keyfile.json")),e(n);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch(n)}),300)}))},onDone:{target:"success",actions:Object(h.b)({result:function(e,t){return t.data}})},onError:{target:"error",actions:Object(h.b)({error:function(e,t){return t.data}})}}},createWallet:{on:{CANCEL:"cancelling",SUBMIT:"creatingWallet"}},creatingWallet:{invoke:{id:"signatoryCreateWallet",src:function(e,t){return new Promise((function(e,n){setTimeout((function(){D.importMnemonic(t.importMnemonicOptions).then(e).catch(n)}),300)}))},onDone:{target:"success",actions:Object(h.b)({result:function(e,t){return t.data}})},onError:{target:"error",actions:Object(h.b)({error:function(e,t){return t.data}})}}},signingTypedData:{invoke:{id:"signatorySignTypedData",src:function(e,t){return D.signTypedData(t.typedData,t.address,t.passphrase,t.chainId)},onDone:{target:"success",actions:Object(h.b)({result:function(e,t){return t.data}})},onError:{target:"error",actions:Object(h.b)({error:function(e,t){return t.data}})}}},signingTransaction:{invoke:{id:"signatorySignTransaction",src:function(e,t){return new Promise((function(e,n){setTimeout((function(){D.signTransaction(t.transaction,t.passphrase,t.chainId).then(e).catch(n)}),300)}))},onDone:{target:"success",actions:Object(h.b)({result:function(e,t){return t.data}})},onError:{target:"error",actions:Object(h.b)({error:function(e,t){return t.data}})}}},signingMessage:{invoke:{id:"signatorySignMessage",src:function(){var e=Object(f.a)(p.a.mark((function e(t,n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){setTimeout((function(){D.sign(n.dataToSign,n.address,n.passphrase,n.chainId).then(e).catch(t)}),300)})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),onDone:{target:"success",actions:Object(h.b)({result:function(e,t){return t.data}})},onError:{target:"error",actions:Object(h.b)({error:function(e,t){return t.data}})}}},error:{on:{CANCEL:"idle"},invoke:{id:"invokePromiseReject",src:function(){var e=Object(f.a)(p.a.mark((function e(t,n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.invokePromiseReject){e.next=2;break}return e.abrupt("return",t.invokePromiseReject(t,n));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),onDone:{actions:Object(h.b)({invokePromiseSuccess:function(){},invokePromiseReject:function(){},caveats:function(){}})}}},success:{on:{CANCEL:"idle"},invoke:{id:"invokePromiseSuccess",src:function(){var e=Object(f.a)(p.a.mark((function e(t,n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.invokePromiseSuccess){e.next=2;break}return e.abrupt("return",t.invokePromiseSuccess(t,n));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),onDone:{actions:Object(h.b)({invokePromiseSuccess:function(){},invokePromiseReject:function(){},caveats:function(){}})}}},signTransaction:{on:{CANCEL:"cancelling",SUBMIT:"signingTransaction"}},signTypedData:{on:{CANCEL:"cancelling",SUBMIT:"signingTypedData"}}}},I=Object(b.a)(P),R=n(1053),N=n(1054),M=n(1055),B=n(976),_=n(1046),W=n(1024),L=n(141),U=n(1021),H=n(296),$=n(1029),q=n(1061),z=n(100),F=n(1037),G=n(1034),J=n(1035),K=n(987),X=n(222),V=n(1038),Y=n(1039),Q=n(205),Z=n.n(Q),ee=function(e,t){var n=e.methods.find((function(e){return e.name===t}));if(n)return{type:"object",properties:n.params&&n.params.reduce((function(e,t){return e[t.name]=Object(s.a)(Object(s.a)({},t.schema),{},{markdownDescription:t.description||t.summary,description:t.description||t.summary,additionalProperties:!1}),e}),{})}},te=(n(706),n(103)),ne=n(292),ae=n.n(ne),re=n(1066),ie=n(218),ce=n(110),oe=n(1033),se=Object(ce.withTheme)(ie.a),ue=o.a.memo((function(e){return o.a.createElement(re.a,{open:e.open,anchor:"bottom",onClose:e.onClose,style:{position:"relative"}},o.a.createElement(B.a,{id:"cancel-button",style:{position:"absolute",top:"0px",right:"5px"},onClick:e.onClose},o.a.createElement(oe.a,null)),o.a.createElement("div",{id:e.id,style:{maxHeight:"90%",maxWidth:"400px",margin:"0 auto",paddingLeft:"25px",paddingRight:"25px",paddingBottom:"5px",paddingTop:"35px"}},e.header,o.a.createElement(se,{noHtml5Validate:!0,schema:e.schema,showErrorList:!1,formData:e.formData,widgets:e.widgets,liveValidate:!0,uiSchema:Object(s.a)({"ui:autoFocus":!0},e.uiSchema),onChange:e.onChange,onSubmit:e.onSubmit},o.a.createElement(U.a,{style:{marginTop:"10px"},type:"submit",variant:"contained",fullWidth:!0,color:"primary"},"Sign"))))})),le=n(216),me=n(451),de=n(1036),pe={card:{minHeight:"150px",width:"300px",borderRadius:"10px",background:n(219).a[500],opacity:.2,margin:"0px",display:"flex"},cardContent:{flexGrow:1,padding:0,margin:"16px",display:"flex"},cardItem:{borderRadius:"10px",width:"145px",minHeight:"115px"},listItem:{width:"145px",minHeight:"115px",borderRadius:"10px"},listItemIcon:{minWidth:"auto"}},fe=function(e){return o.a.createElement(G.a,{style:pe.card},o.a.createElement(J.a,{style:pe.cardContent},o.a.createElement(W.a,{container:!0,direction:"column",justify:"space-between",style:{width:"265px"}},o.a.createElement(W.a,{container:!0,justify:"space-between"},o.a.createElement(W.a,{container:!0,item:!0,justify:"space-around",alignItems:"center"},e.content),o.a.createElement(de.a,{style:{width:"100%",height:"15px",marginTop:e.content?"35px":"105px"}})))))},he=function(e){var t=e.cards,n=e.onCardSelect;return o.a.createElement(o.a.Fragment,null,0===t.length&&o.a.createElement(fe,null),t.map((function(e,t){return o.a.createElement(X.a,{key:t,onClick:function(){return n&&n(e)},tabIndex:t+3,onKeyDown:function(t){13===t.keyCode&&n&&n(e)},style:{margin:"4px",padding:"0",borderRadius:"10px",position:"relative",textAlign:"left"}},o.a.createElement(ve,{card:e}))})))},ge={minHeight:"150px",width:"300px",borderRadius:"10px",background:"transparent",margin:"0px",display:"flex"},be={flexGrow:1,padding:0,margin:"16px",display:"flex"},ye={borderRadius:"10px",width:"145px",minHeight:"115px"},Ee={width:"145px",minHeight:"115px",borderRadius:"10px"},ve=function(e){var t=Object(F.a)(e.card.ref),n=Object(l.a)(t,2),a=n[0],r=n[1],i=Object(c.useState)(),u=Object(l.a)(i,2),m=u[0],d=u[1],p=Object(le.a)().value?new ae.a({lightness:[.3,.3,.3],saturation:[.4,.5,.6]}):new ae.a({lightness:[.7,.37,.7],saturation:[.4,.5,.6]});return Object(c.useEffect)((function(){Z.a.dereference(z||{}).then(d).catch((function(e){console.error("REFPARSER ERROR",e)}))}),[]),a&&r?o.a.createElement(o.a.Fragment,null,m&&a.matches("selected")&&o.a.createElement(ue,{schema:ee(m,"sign"),formData:{address:e.card.address},open:a.matches({selected:"signMessage"}),onSubmit:function(e){return r(e)},onClose:function(){return r({type:"CANCEL"})}}),m&&a.matches("selected")&&o.a.createElement(ue,{schema:ee(m,"signTransaction"),formData:{transaction:{from:e.card.address}},open:a.matches({selected:"signTransaction"}),onSubmit:function(){return r({type:"SUBMIT"})},onClose:function(){return r({type:"CANCEL"})}}),m&&a.matches("selected")&&o.a.createElement(ue,{schema:ee(m,"signTypedData"),formData:{address:e.card.address},open:a.matches({selected:"signTypedData"}),onSubmit:function(){return r({type:"SUBMIT"})},onClose:function(){return r({type:"CANCEL"})}}),o.a.createElement(W.a,{container:!0,direction:"column",justify:"center",alignItems:"center"},o.a.createElement(G.a,{style:Object(s.a)(Object(s.a)({},ge),{},{position:"relative",overflow:"visible",cursor:a.matches("selected")?"initial":"pointer",zIndex:a.history&&"selected"===a.history.value||a.matches("selected")?1200:1}),className:a.matches("initial")&&a.history&&!1===a.history.matches("selected")?"fade-in":""},o.a.createElement(J.a,{style:Object(s.a)(Object(s.a)({},be),{},{zIndex:10})},o.a.createElement(W.a,{container:!0,direction:"column",justify:"space-between",style:{width:"265px"}},o.a.createElement(W.a,{container:!0,justify:"space-between"},o.a.createElement(te.a,{flipId:"account-".concat(e.card.name,"-").concat(e.card.address||e.card.uuid,"-name"),spring:"stiff",translate:!0},o.a.createElement("div",{style:{width:"230px",overflow:"hidden",textOverflow:"elipsis"}},o.a.createElement(L.a,{color:"textSecondary"},e.card.name))),o.a.createElement(te.a,{flipId:"account-".concat(e.card.name,"-").concat(e.card.address||e.card.uuid,"-hd"),spring:"stiff",translate:!0},e.card.uuid?o.a.createElement(K.a,{title:"HD Wallet"},o.a.createElement(V.a,null)):o.a.createElement(K.a,{title:"Account"},o.a.createElement(Y.a,null)))),o.a.createElement(te.a,{flipId:"account-".concat(e.card.name,"-").concat(e.card.address||e.card.uuid,"-").concat(e.card.description,"-description"),spring:"stiff",translate:!0},o.a.createElement(L.a,{style:{fontSize:"14px"}},e.card.description)),o.a.createElement(te.a,{flipId:"account-".concat(e.card.name,"-").concat(e.card.address||e.card.uuid,"-address"),spring:"stiff",translate:!0,scale:!0},o.a.createElement(L.a,{style:{fontSize:"12px",fontFamily:"mono"}},e.card.address||e.card.uuid)),e.card.address&&o.a.createElement("div",{style:{animation:"qrcode-in 0.25s ease-in-out 0.05s both",opacity:a.matches("selected")?1:0,display:a.matches("selected")?"inherit":"none",margin:"0 auto",marginTop:"10px"}},o.a.createElement(me.QRCode,{value:e.card.address,bgColor:"transparent",size:240,quietZone:0,qrStyle:"dots"})))),o.a.createElement(te.a,{flipId:"account-".concat(e.card.address||e.card.uuid,"-background"),spring:"stiff"},o.a.createElement("div",{style:{margin:0,borderRadius:"10px",background:p.hex(e.card.address||e.card.uuid||"default").toString(),opacity:1},className:"card-background"}))),a.matches("selected")&&e.card.address&&o.a.createElement(W.a,{container:!0,justify:"center",alignItems:"center",style:{width:"300px",marginTop:"10px"}},o.a.createElement(X.a,{style:Object(s.a)(Object(s.a)({},Ee),{},{marginRight:"5px",marginBottom:"5px",animation:"item-in 0.25s ease-in-out 0.05s both"}),onClick:function(){return e.onSignTransaction&&e.onSignTransaction(e.card)}},o.a.createElement(G.a,{style:Object(s.a)(Object(s.a)({},ye),{},{width:"100%",height:"100%"})},o.a.createElement(J.a,null,o.a.createElement(L.a,null,o.a.createElement("span",{role:"img","aria-label":"sign-transaction"},"\u270d\ufe0f")),o.a.createElement(L.a,null,"Sign Transaction")))),o.a.createElement(X.a,{style:Object(s.a)(Object(s.a)({},Ee),{},{marginLeft:"5px",marginBottom:"5px",animation:"item-in 0.25s ease-in-out 0.05s both"}),onClick:function(){return e.onSignMessage&&e.onSignMessage(e.card)}},o.a.createElement(G.a,{style:Object(s.a)(Object(s.a)({},ye),{},{width:"100%",height:"100%"})},o.a.createElement(J.a,{style:{width:"80%",margin:"0 auto"}},o.a.createElement(L.a,null,o.a.createElement("span",{role:"img","aria-label":"sign-message"},"\ud83d\udd0f")),o.a.createElement(L.a,null,"Sign Message")))),o.a.createElement(X.a,{style:Object(s.a)(Object(s.a)({},Ee),{},{marginRight:"5px",marginTop:"5px",animation:"item-in 0.25s ease-in-out 0.15s both"}),onClick:function(){return e.onSignTypedData&&e.onSignTypedData(e.card)}},o.a.createElement(G.a,{style:Object(s.a)(Object(s.a)({},ye),{},{width:"100%",height:"100%"})},o.a.createElement(J.a,null,o.a.createElement(L.a,null,o.a.createElement("span",{role:"img","aria-label":"sign-typed-data"},"\ud83d\udcdd")),o.a.createElement(L.a,null,"Sign Typed Data")))),o.a.createElement(X.a,{style:Object(s.a)(Object(s.a)({},Ee),{},{marginLeft:"5px",marginTop:"5px",animation:"item-in 0.25s ease-in-out 0.15s both"}),onClick:function(){var t,n,a;null===(t=e.card)||void 0===t||null===(n=t.ref)||void 0===n||null===(a=n.parent)||void 0===a||a.send("EXPORT",{address:e.card.address})}},o.a.createElement(G.a,{style:Object(s.a)(Object(s.a)({},ye),{},{width:"100%",height:"100%"})},o.a.createElement(J.a,null,o.a.createElement(L.a,null,o.a.createElement("span",{role:"img","aria-label":"export-account"},"\ud83d\udd11")),o.a.createElement(L.a,null,"Export Account"))))),a.matches("selected")&&e.card.uuid&&o.a.createElement(W.a,{style:{marginTop:"10px"},container:!0,justify:"center",alignItems:"center",direction:"column"},o.a.createElement("div",{style:{width:"300px",marginBottom:"10px"}},o.a.createElement(X.a,{style:Object(s.a)(Object(s.a)({},Ee),{},{marginRight:"5px",marginBottom:"5px",animation:"item-in 0.25s ease-in-out 0.20s both"}),onClick:function(){return r({type:"SHOW_SIGN_TRANSACTION"})}},o.a.createElement(G.a,{style:Object(s.a)(Object(s.a)({},ye),{},{width:"100%",height:"100%"})},o.a.createElement(J.a,null,o.a.createElement(L.a,null,o.a.createElement("span",{role:"img","aria-label":"new-account"},"\ud83d\udd10")),o.a.createElement(L.a,null,"New"),o.a.createElement(L.a,null,"Account"))))),o.a.createElement("div",{style:{animation:"item-in 0.25s ease-in-out 0.30s both"}},o.a.createElement(L.a,null,"Accounts")),o.a.createElement(W.a,{container:!0,justify:"center",alignItems:"center",style:{animation:e.hideAccountEntryAnimation?"none":"item-in 0.25s ease-in-out 0.30s both"}},o.a.createElement(he,{cards:a.context.card.accounts||[],onCardSelect:function(e){window.scroll({top:0}),e.ref&&e.ref.parent&&e.ref.parent&&e.ref.parent.parent&&e.ref.parent.parent.send("CARD.SELECT",e)}}))))):null},xe=n(1056),je=n(1057),Se=n(32),Oe=n(1040),we=n(1041),Ce=n(1059),ke=n(1042),Te=n(1043),Ae=n(1044),De=o.a.memo((function(e){var t=e.onDarkModeChange,n=e.darkMode,a=e.topItem,r=e.backItem,i=e.onInfoClick,c=Object(Se.a)();return o.a.createElement(o.a.Fragment,null,o.a.createElement(Oe.a,{elevation:0,position:"fixed"},o.a.createElement(we.a,{style:{background:c.palette.background.default}},o.a.createElement(Ce.a,{width:"50px"},r),o.a.createElement(Ce.a,{flexGrow:1,style:{marginRight:"30px"}},a),o.a.createElement(K.a,{title:"Info"},o.a.createElement(B.a,{onClick:i,tabIndex:2},o.a.createElement(ke.a,null))),o.a.createElement(K.a,{title:"Toggle Theme"},o.a.createElement(B.a,{onClick:function(){t(!!n)},tabIndex:4},n?o.a.createElement(Te.a,null):o.a.createElement(Ae.a,null))))))})),Pe=n(456),Ie=n(294),Re=n.n(Ie),Ne={h1:{fontSize:"2.25rem",fontWeight:400},h2:{fontSize:"2rem",letterSpacing:"0",fontWeight:400},h3:{fontSize:"1.75rem",fontWeight:400},h4:{fontSize:"1.5rem",fontWeight:400},h5:{fontSize:"1.25rem",fontWeight:400},h6:{fontSize:"1.1rem",fontWeight:400},body1:{fontSize:"1.06rem"},fontSize:17},Me=Object(Pe.a)({props:{MuiAppBar:{position:"sticky"},MuiCard:{elevation:0}},overrides:{MuiAppBar:{root:{background:"#fff !important"}}},palette:{background:{default:"#fff"}},typography:Ne}),Be=Object(Pe.a)({props:{MuiAppBar:{position:"sticky"},MuiCard:{elevation:0}},palette:{type:"dark",background:{default:"black",paper:Re.a[800]}},overrides:{MuiAppBar:{root:{background:"transparent !important"}},MuiTable:{root:{background:"transparent !important"}},MuiTypography:{root:{color:Re.a[400]}}},typography:Ne}),_e=n(1063),We=n(1065),Le=n(1045),Ue=[{icon:o.a.createElement(Y.a,null),name:"New Account",id:"account"}],He=o.a.memo((function(e){var t=o.a.useState(!1),n=Object(l.a)(t,2),a=n[0],r=n[1];return o.a.createElement(_e.a,{ariaLabel:"Create",icon:o.a.createElement(We.a,null),onClick:function(){return r(!a)},open:a,style:{position:"fixed",top:e.offsetTop?"125px":"75px",right:"25px",zIndex:10},direction:"down"},Ue.map((function(t){return o.a.createElement(Le.a,{key:t.id,icon:t.icon,tooltipTitle:t.name,onClick:function(){r(!1),e.onActionClick(t.id)}})})))})),$e=o.a.memo((function(){return o.a.createElement(W.a,{container:!0,justify:"center",alignItems:"center"},o.a.createElement(L.a,{variant:"h6",color:"textSecondary",style:{fontWeight:900}},o.a.createElement("span",{role:"img","aria-label":"sig.tools-lock"},"\ud83d\udd10")," sig.tools"))})),qe=n(203),ze=Object(v.methods)(new T),Fe=function(e){var t=function(){var e=Object(f.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ze.listAccounts();case 2:return t=e.sent,e.abrupt("return",t.map((function(e){return S.a.omitBy(e,S.a.isUndefined)})));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{sign:function(){var t=Object(f.a)(p.a.mark((function t(n,a,r,i){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,c){e.send("SHOW_SIGN_MESSAGE",{dataToSign:n,address:a,chainId:r,domain:i,invokePromiseSuccess:function(){var e=Object(f.a)(p.a.mark((function e(n,a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(a.data);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),invokePromiseReject:function(){var e=Object(f.a)(p.a.mark((function e(t,n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c(new Error("User Rejected Request"));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()})})));case 1:case"end":return t.stop()}}),t)})));return function(e,n,a,r){return t.apply(this,arguments)}}(),signTransaction:function(){var t=Object(f.a)(p.a.mark((function t(n,a,r){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r||(r=a,a=void 0),t.abrupt("return",new Promise((function(t,i){e.send("SHOW_SIGN_TRANSACTION",{transaction:n,chainId:a,domain:r,invokePromiseSuccess:function(){var e=Object(f.a)(p.a.mark((function e(n,a,r){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(r);case 1:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),invokePromiseReject:function(){var e=Object(f.a)(p.a.mark((function e(t,n,a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i(new Error("User Rejected Request"));case 1:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}()})})));case 2:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),signTypedData:function(){var t=Object(f.a)(p.a.mark((function t(n,a,r,i){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,c){e.send("SHOW_SIGN_TYPED_DATA",{typedData:n,address:a,chainId:r,domain:i,invokePromiseSuccess:function(){var e=Object(f.a)(p.a.mark((function e(n,a,r){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(r);case 1:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),invokePromiseReject:function(){var e=Object(f.a)(p.a.mark((function e(t,n,a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c(a);case 1:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}()})})));case 1:case"end":return t.stop()}}),t)})));return function(e,n,a,r){return t.apply(this,arguments)}}(),createAccount:function(){var t=Object(f.a)(p.a.mark((function t(n,a){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,r){e.send("CREATE_ACCOUNT",{newAccount:n,domain:a,invokePromiseSuccess:function(){var e=Object(f.a)(p.a.mark((function e(n,a,r){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(r);case 1:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),invokePromiseReject:function(){var e=Object(f.a)(p.a.mark((function e(t,n,a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r(a);case 1:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}()})})));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),importMnemonic:function(){var t=Object(f.a)(p.a.mark((function t(n,a){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,r){e.send("CREATE_WALLET",{importMnemonicOptions:n,domain:a,invokePromiseSuccess:function(){var e=Object(f.a)(p.a.mark((function e(n,a,r){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(r);case 1:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),invokePromiseReject:function(){var e=Object(f.a)(p.a.mark((function e(t,n,a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r(a);case 1:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}()})})));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),listAccounts:t}},Ge=function(e,t,n){return"requestPermissions"!==e.data.method&&"getPermissions"!==e.data.method||!Array.isArray(t.result)||(t.result=t.result.map((function(e){return Object(s.a)(Object(s.a)({},e),{},{"@context":[n]})}))),t},Je=function(e){var t=e.code;return t&&4100===t&&(e.message="Unauthorized to perform action. Try requesting permission first using the `requestPermissions` method. More information available at https://eips.ethereum.org/EIPS/eip-2255"),e},Ke=n(453),Xe=null,Ve=n(965),Ye=function(e,t){var n=e.params.map((function(e){return e.name})).reduce((function(e,t,n){return Object(s.a)(Object(s.a)({},e),{},Object(qe.a)({},t,n))}),{});return Object.entries(t).sort((function(e,t){return n[e[0]]-n[t[0]]})).map((function(e){var t=Object(l.a)(e,2);t[0];return t[1]}))},Qe=function(e,t){var n,a=function(){var e=Object(f.a)(p.a.mark((function e(n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){t.send("REQUEST_PERMISSIONS",{approvalRequest:n,invokePromiseSuccess:function(){var t=Object(f.a)(p.a.mark((function t(a,r,i){var c;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c={listAccounts:Object(s.a)({},n.permissions.listAccounts)},a.caveats&&(c={listAccounts:Object(s.a)(Object(s.a)({},n.permissions.listAccounts),{},{caveats:[a.caveats]})}),e(c);case 3:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),invokePromiseReject:function(){var e=Object(f.a)(p.a.mark((function e(t,n,r){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a(new Error("User Rejected Request"));case 1:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}()})})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r=["createAccount","sign","signTypedData","signTransaction"],i=S.a.chain(e).reduce((function(t,n,a){var i=z.methods.find((function(e){return e.name===a}));return r.includes(i.name)||(t[a]={description:i.description,method:function(t,n,r,c){var o=t.params instanceof Array?t.params:Ye(i,t.params);e[a].apply(e,Object(x.a)(o)).then((function(e){n.result=e,c()})).catch((function(e){n.error=e,c(e)}))}}),t}),{}).value(),c=window.localStorage.capabilities;return c&&(c=JSON.parse(c)),n=new Ke.CapabilitiesController({safeMethods:r,restrictedMethods:i,requestUserApproval:a},c),(Xe=n).subscribe((function(e){window.localStorage.capabilities=JSON.stringify(e)})),n},Ze=function(e){var t=Fe(e),n={},a=new Ve,r=Qe(t,e);a.push((function(e,n,a,r){var i=z.methods.find((function(t){return t.name===e.method})),c=e.params instanceof Array?e.params:Ye(i,e.params);t[e.method]&&t[e.method].apply(t,Object(x.a)(c)).then((function(e){n.result=e,r()})).catch((function(e){n.error=e,r(e)}))}));var i=function(){var e=Object(f.a)(p.a.mark((function e(t){var i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.origin!==window.origin){e.next=2;break}return e.abrupt("return");case 2:if(t.data.jsonrpc&&"2.0"===t.data.jsonrpc){e.next=4;break}return e.abrupt("return");case 4:if(!t.data||!t.data.error){e.next=6;break}return e.abrupt("return",console.error("JSONRPC ERROR",t.data.error));case 6:if("rpc.discover"!==t.data.method){e.next=10;break}return i={jsonrpc:"2.0",result:z,id:t.data.id},t.source.postMessage(i,"*"),e.abrupt("return");case 10:return n[t.origin]||(a._middleware.unshift(r.providerMiddlewareFunction.bind(r,{origin:t.origin})),n[t.origin]=!0),e.abrupt("return",a.handle(t.data,(function(e,n){if(e)return e.message.includes("User Rejected Request")?t.source.postMessage({jsonrpc:"2.0",error:{code:4001,message:e.message},id:t.data.id},"*"):(e=Je(e),void t.source.postMessage({jsonrpc:"2.0",error:{code:e.code||32329,message:e.message},id:t.data.id},"*"));t.source?t.source.postMessage(Ge(t,n,"https://sig.tools"),"*"):console.error("No origin defined")})));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{start:function(){window.addEventListener("message",i)},stop:function(){if(!i)return new Error("Not started");window.removeEventListener("message",i)}}},et=n(1060),tt=Object(ce.withTheme)(ie.a),nt=function(e){var t=Object(c.useState)(!0),n=Object(l.a)(t,2),a=n[0],r=n[1],i=Object(c.useState)(!1),u=Object(l.a)(i,2),m=u[0],d=u[1],p=Object(c.useState)(e.formData),f=Object(l.a)(p,2),h=f[0],g=f[1];return o.a.createElement(o.a.Fragment,null,o.a.createElement(H.a,{id:e.id,style:{position:"absolute",top:"0",left:"0",right:"0",bottom:"0",padding:"50px",overflowY:"auto",animation:"scale-".concat(a?"in":"out"," 0.3s cubic-bezier(0.4, 0.0, 0.2, 1) 0s both"),zIndex:1300}},o.a.createElement("div",{style:{maxWidth:"400px",margin:"0 auto"}},e.header,o.a.createElement(ue,{onClose:function(){d(!1)},header:o.a.createElement(W.a,{container:!0,justify:"center",alignContent:"center"},o.a.createElement(L.a,{gutterBottom:!0},"Enter your passphrase.")),schema:{title:"passphrase",type:"string"},uiSchema:{"ui:widget":"password"},open:m,onSubmit:function(t){e.onSubmit&&e.onSubmit(Object(s.a)(Object(s.a)({},h),{},{passphrase:t.formData}))}}),!e.hideClose&&o.a.createElement(B.a,{id:"cancel",style:{position:"absolute",top:"0px",right:"5px",zIndex:1400},onClick:function(){r(!1),e.onCancel&&e.onCancel()}},o.a.createElement(oe.a,null)),o.a.createElement(tt,{noHtml5Validate:!0,schema:e.schema,showErrorList:!1,formData:e.formData,uiSchema:Object(s.a)({"ui:autoFocus":!0},e.uiSchema),widgets:Object(s.a)({},e.widgets),onSubmit:function(t){e.skipPassphrase&&e.onSubmit?e.onSubmit(t.formData):(g(t.formData),d(!0))}},o.a.createElement(U.a,{id:"submit",type:"submit",variant:"contained",fullWidth:!0,color:"primary"},e.title)))))},at=n(221),rt=n(220),it=n(1030),ct=n(81),ot=Object(b.a)({initial:"numberonly",context:{hex:"",number:""},entry:Object(h.b)({hex:function(e,t){return e.hex},number:function(e,t){var n;if(!e.hex)return"";if(!e.hex.match(/^0x/))return"";try{n=Object(ct.hexToBigInt)(e.hex).toString()}catch(a){}return n||""}}),on:{HEX_INPUT:{actions:Object(h.b)({hex:function(e,t){return t.value},number:function(e,t){var n;if(!t.value.match(/^0x/))return"";try{n=Object(ct.hexToBigInt)(t.value).toString()}catch(a){}return n||""}})},NUMBER_INPUT:{actions:Object(h.b)({number:function(e,t){return t.value},hex:function(e,t){var n;try{n=Object(ct.bigIntToHex)(BigInt(t.value)).toString()}catch(a){}return n||"0x"}})}},states:{numberonly:{on:{TOGGLE:"all"}},all:{on:{TOGGLE:"numberonly"}}}}),st=n(1047),ut=function(e){var t=Object(m.a)(ot.withContext({hex:e.value,number:""}),{devtools:!0}),n=Object(l.a)(t,3),a=n[0],r=n[1];return n[2].onChange((function(t){e.onChange&&e.onChange(t.hex)})),o.a.createElement(o.a.Fragment,null,o.a.createElement(L.a,{variant:"body2",gutterBottom:!0},e.schema.title),o.a.createElement(_.a,{style:{cursor:"pointer",userSelect:"none"}},o.a.createElement(L.a,{variant:"caption",color:"primary",onClick:function(){return r("TOGGLE")}},a.matches("all")?"number":"raw")),o.a.createElement(W.a,{container:!0,justify:"flex-start",alignItems:"center"},a.matches("all")&&o.a.createElement(it.a,{label:"Hex",variant:"outlined",value:a.context.hex||"",onChange:function(e){return r("HEX_INPUT",{value:e.target.value})},style:{width:"43%"}}),a.matches("all")&&o.a.createElement(st.a,null),o.a.createElement(it.a,{type:"number",label:"Number",variant:"outlined",value:a.context.number||"",inputProps:{min:"0",step:"1"},onChange:function(e){return r("NUMBER_INPUT",{value:e.target.value})},style:{width:"43%"}})))},lt=Object(b.a)({initial:"stringonly",context:{hex:"",string:""},entry:Object(h.b)({hex:function(e,t){return e.hex},string:function(e,t){var n;if(!e.hex)return"";if(!e.hex.match(/^0x/))return"";try{n=Object(ct.hexToString)(e.hex)}catch(a){}return n||""}}),on:{HEX_INPUT:{actions:Object(h.b)({hex:function(e,t){return t.value},string:function(e,t){var n;try{n=Object(ct.hexToString)(t.value||"")}catch(a){}return n||""}})},STRING_INPUT:{actions:Object(h.b)({string:function(e,t){return t.value},hex:function(e,t){return Object(ct.stringToHex)(t.value||"")}})},SHOW_JSON:"jsononly"},states:{stringonly:{on:{SHOW_HEX:"all"}},all:{on:{SHOW_STRING:"stringonly"}},jsononly:{on:{SHOW_STRING:"stringonly",SHOW_HEX:"all"}}}}),mt=function(e){var t=Object(m.a)(lt.withContext({hex:e.value,string:""}),{devTools:!0}),n=Object(l.a)(t,3),a=n[0],r=n[1],i=n[2],s=Object(c.useState)(),u=Object(l.a)(s,2),d=u[0],p=u[1];i.onChange((function(t){e.onChange&&e.onChange(t.hex)}));var f=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];try{var t=JSON.parse(a.context.string);t&&p(t),e&&r("SHOW_JSON")}catch(n){p(void 0)}};return Object(c.useEffect)((function(){f()}),[a.context.string]),Object(c.useEffect)((function(){f(!0)}),[]),o.a.createElement(o.a.Fragment,null,o.a.createElement(L.a,{gutterBottom:!0},e.schema.title),!a.matches("all")&&o.a.createElement(_.a,{style:{cursor:"pointer",userSelect:"none"}},o.a.createElement(L.a,{variant:"caption",color:"primary",onClick:function(){return r("SHOW_HEX")}},"raw")),!a.matches("stringonly")&&o.a.createElement(_.a,{style:{cursor:"pointer",userSelect:"none"}},o.a.createElement(L.a,{variant:"caption",color:"primary",onClick:function(){return r("SHOW_STRING")}},"string")),d&&!a.matches("jsononly")&&o.a.createElement(_.a,{style:{cursor:"pointer",userSelect:"none"}},o.a.createElement(L.a,{variant:"caption",color:"primary",onClick:function(){return r("SHOW_JSON")}},"json")),o.a.createElement(W.a,{container:!0,justify:"flex-start",alignItems:"center"},a.matches("all")&&o.a.createElement(it.a,{label:"Hex",variant:"outlined",value:a.context.hex||"",onChange:function(e){return r("HEX_INPUT",{value:e.target.value})},style:{width:"43%"}}),a.matches("all")&&o.a.createElement(st.a,null),!a.matches("jsononly")&&o.a.createElement(it.a,{multiline:!0,label:"String",variant:"outlined",value:a.context.string||"",onChange:function(e){return r("STRING_INPUT",{value:e.target.value})},style:{width:"43%"}}),a.matches("jsononly")&&o.a.createElement("pre",{style:{overflow:"auto"}},o.a.createElement("code",null,JSON.stringify(d,null,4)))))},dt=function(e){var t=Object(c.useState)(e.value),n=Object(l.a)(t,2),a=n[0],r=n[1],i=Object(c.useState)(!1),s=Object(l.a)(i,2),u=s[0],m=s[1];return o.a.createElement(W.a,{container:!0,justify:"center",alignContent:"center"},o.a.createElement(it.a,{variant:"outlined",fullWidth:!0,label:e.label,value:a,onChange:function(e){r(e.target.value)},type:"password"}),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement(it.a,{variant:"outlined",fullWidth:!0,placeholder:"passphrase",label:"confirm passphrase",error:!u&&a,onChange:function(t){t.target.value===a?(e.onChange(t.target.value),m(!0)):m(!1)},type:"password"}))},pt=n(1048),ft=n(1049),ht=n(1028),gt=n(454),bt=n(455),yt=n.n(bt),Et=n(1050),vt=n(1051),xt=function(e){var t=Object(Se.a)();return o.a.createElement(pt.a,e,o.a.createElement(ft.a,null,o.a.createElement(G.a,null,o.a.createElement(J.a,null,o.a.createElement(W.a,{container:!0,justify:"space-around"},o.a.createElement(W.a,{item:!0},o.a.createElement(K.a,{title:o.a.createElement(W.a,{container:!0,justify:"center",style:{width:"200px",margin:0,padding:0}},o.a.createElement(L.a,{variant:"caption",style:{fontSize:t.typography.pxToRem(11)}},"Github"),o.a.createElement(L.a,{color:"textPrimary",variant:"caption",style:{fontSize:t.typography.pxToRem(11)}},"github.com/etclabscore/sig.tools"))},o.a.createElement(B.a,{onClick:function(){window.open(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_GITHUB_URL||"https://github.com/etclabscore/sig.tools","_blank")}},o.a.createElement(yt.a,null)))),o.a.createElement(W.a,{item:!0},o.a.createElement(K.a,{title:o.a.createElement(W.a,{container:!0,justify:"center",style:{width:"200px",margin:0,padding:0}},o.a.createElement(L.a,{variant:"caption",style:{fontSize:t.typography.pxToRem(11)}},"Developer Documentation"),o.a.createElement(L.a,{color:"textPrimary",variant:"caption",style:{fontSize:t.typography.pxToRem(11)}},"docs.sig.tools"))},o.a.createElement(B.a,{onClick:function(){!function(e){var t=window.screen.width-400,n=window.screen.height;window.open(e,"docs-sig-tools:popup","left=".concat(400,",top=").concat(0,",right=").concat(0,",width=").concat(t,",height=").concat(n,",resizable,scrollbars=yes,status=1"))}(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_DOCUMENTATION_URL||"https://docs.sig.tools/api-documentation")}},o.a.createElement(Et.a,null))))),o.a.createElement(ht.a,{style:{marginTop:"15px",marginBottom:"20px"}}),o.a.createElement(W.a,{container:!0,direction:"column"},o.a.createElement(W.a,{item:!0,container:!0,justify:"space-between",style:{minWidth:"270px"}},o.a.createElement(W.a,{item:!0},o.a.createElement(L.a,null,"Version")),o.a.createElement(W.a,{item:!0},o.a.createElement(L.a,{color:"textPrimary"},gt.version))),o.a.createElement(W.a,{item:!0,container:!0,justify:"space-between",style:{minWidth:"270px"}},o.a.createElement(W.a,{item:!0},o.a.createElement(L.a,null,"License")),o.a.createElement(W.a,{item:!0},o.a.createElement(_.a,{href:"https://github.com/etclabscore/sig.tools/blob/master/LICENSE.md",target:"_blank"},o.a.createElement(L.a,{color:"primary"},"Apache 2.0")))),o.a.createElement(ht.a,{style:{marginTop:"15px",marginBottom:"20px"}}),o.a.createElement(W.a,{item:!0,container:!0,justify:"space-between"},o.a.createElement(W.a,{item:!0},o.a.createElement(L.a,{color:"textPrimary",gutterBottom:!0,variant:"h6"},"Domain Permissions")),e.capabilitiesList&&0===e.capabilitiesList.length&&o.a.createElement(L.a,null,"No permissions."),e.capabilitiesList&&e.capabilitiesList.map((function(t){var n=Object(l.a)(t,2),a=n[0],r=n[1];return o.a.createElement(W.a,{item:!0,container:!0,alignItems:"center",justify:"space-between",key:JSON.stringify(r)},o.a.createElement(W.a,{item:!0},o.a.createElement(L.a,{variant:"caption",style:{fontSize:12}},a)),o.a.createElement(W.a,{item:!0,justify:"center"},r&&r.permissions&&0===r.permissions.length&&o.a.createElement(W.a,{container:!0},o.a.createElement(L.a,null,"No permissions.")),r&&r.permissions&&r.permissions.map((function(t){return o.a.createElement(o.a.Fragment,null,o.a.createElement(W.a,{item:!0,style:{paddingTop:"5px",paddingBottom:"5px"}},o.a.createElement(L.a,{variant:"caption",color:"secondary",style:{fontSize:12}},t.parentCapability),o.a.createElement(K.a,{title:"Remove",arrow:!0},o.a.createElement(B.a,{size:"small",onClick:function(){e.onRemoveCapability&&e.onRemoveCapability(t)}},o.a.createElement(vt.a,null)))))}))))}))))))))},jt=n(1025),St=n(1026),Ot=n(1027),wt=n(1052),Ct=function(e){var t=Object(c.useState)([]),n=Object(l.a)(t,2),a=n[0],r=n[1],i=function(t){return function(){var n=a.indexOf(t),i=Object(x.a)(a);-1===n?i.push(t):i.splice(n,1),r(i),e.onChange&&e.onChange(i)}};return o.a.createElement(jt.a,null,e.accounts.map((function(e){return o.a.createElement(St.a,{onClick:i(e),button:!0},o.a.createElement(Ot.a,{primary:o.a.createElement(L.a,{variant:"caption",style:{fontSize:"9px"}},e.address),secondary:e.name}),o.a.createElement(wt.a,null,o.a.createElement(q.a,{onChange:i(e),checked:-1!==a.indexOf(e)})))})))},kt=I.withConfig({actions:{persist:function(e){localStorage.setItem("app-cards-state",JSON.stringify(e.cards))}}},{cards:[],formData:null,error:null,result:null,createData:null}),Tt=function(){var e,t=Object(m.a)(kt,{devTools:!0}),n=Object(l.a)(t,3),a=n[0],r=n[1],i=n[2],d=Object(c.useState)(!1),p=Object(l.a)(d,2),f=p[0],h=p[1],g=Object(c.useState)(),b=Object(l.a)(g,2),y=b[0],E=b[1],v=Object(le.a)(),x=v.value?Be:Me,j=a.context.cards.find((function(e){return e&&e.ref&&e.ref.state.matches("selected")}));j&&j.accounts&&j.ref&&(e=j.ref.state.context.card.accounts.find((function(e){return e&&e.ref&&e.ref.state.matches("selected")})));var O=Object(c.useState)(),w=Object(l.a)(O,2),C=w[0],k=w[1],T=Object(c.useState)(),A=Object(l.a)(T,2),D=A[0],P=A[1],I=a.context.formData||{metadata:{origin:""}},F=I.metadata,G=Object(u.a)(I,["metadata"]),J=a.context.createData||{domain:""},K=J.domain,X=Object(u.a)(J,["domain"]);G.domain&&(K=G.domain,delete G.domain),Object(c.useEffect)((function(){window.location.search.includes("?inspect")&&window.__xstate__.register(i)}),[i]),Object(c.useEffect)((function(){D&&D.stop();var e=Ze({send:r});e.start(),P(e)}),[]),Object(c.useEffect)((function(){Z.a.dereference(z||{}).then(k).catch((function(e){console.error("REFPARSER ERROR",e)}))}),[]),Object(c.useEffect)((function(){if(C){var e=Object(s.a)(Object(s.a)({},ee(C,"createAccount")),{},{title:""});delete e.properties.newAccount.properties.description,delete e.properties.newAccount.properties.privateKey,E(e)}}),[C]);var V,Y,Q=function(e){r("SHOW_SIGN_MESSAGE",{address:e.address})},ne=function(e){r("SHOW_SIGN_TYPED_DATA",{address:e.address})},ae=function(e){r("SHOW_SIGN_TRANSACTION",{transaction:{from:e.address}})},re=Object(c.useState)(!0),ie=Object(l.a)(re,2),ce=ie[0],se=ie[1],ue=Object(c.useState)(Object.entries((null===Xe||void 0===Xe?void 0:Xe.getDomains())||{})),me=Object(l.a)(ue,2),de=me[0],pe=me[1];return Object(c.useEffect)((function(){Xe&&(pe(Object.entries(Xe.getDomains())),Xe.subscribe((function(){Xe&&pe(Object.entries(Xe.getDomains()))})))}),[Xe]),o.a.createElement(R.a,{theme:x},o.a.createElement("div",{id:a.value}),o.a.createElement(N.a,null),o.a.createElement("div",{style:{marginTop:"70px"}}),o.a.createElement(M.a,{in:ce},o.a.createElement(et.a,{severity:"warning",action:o.a.createElement(B.a,{"aria-label":"close",color:"inherit",size:"small",onClick:function(){se(!1)}},o.a.createElement(oe.a,{fontSize:"inherit"}))},o.a.createElement("b",null,"sig.tools")," is in early development",o.a.createElement("b",null," alpha"),". \xa0Some features are not available.\xa0",o.a.createElement(_.a,{href:"https://ethereumclassic.org/blog/2017-06-17-private-keys",color:"textSecondary"},"Use at your own risk."),"\xa0",o.a.createElement(_.a,{href:"https://github.com/etclabscore/sig.tools/issues",color:"secondary"},"Give Feedback."))),o.a.createElement(De,{onDarkModeChange:v.toggle,darkMode:v.value,onInfoClick:function(){h(!0)},backItem:(V=["details","nestedDetails"],Y=a,!!V.find((function(e){return Y.matches(e)}))&&o.a.createElement(B.a,{id:"back",onClick:function(){r("BACK")},tabIndex:1},o.a.createElement(xe.a,null))),topItem:o.a.createElement($e,null)}),!a.matches("signMessage")&&o.a.createElement(o.a.Fragment,null,o.a.createElement(te.b,{flipKey:a.value},o.a.createElement("div",{id:"scroll"},o.a.createElement(W.a,{container:!0,justify:"center",alignItems:"center"},"list"===a.value&&o.a.createElement(he,{cards:a.context.cards,onCardSelect:function(e){window.scroll({top:0}),r("CARD.SELECT",e)}}),"details"===a.value&&j&&o.a.createElement("div",{style:{width:"100%"}},o.a.createElement(ve,{card:j,hideAccountEntryAnimation:a.history&&a.history.matches("nestedDetails"),onSignMessage:Q,onSignTypedData:ne,onSignTransaction:ae})),"nestedDetails"===a.value&&e&&o.a.createElement("div",{style:{width:"100%"}},o.a.createElement(ve,{card:e,onSignMessage:Q,onSignTypedData:ne,onSignTransaction:ae}))))),"list"===a.value&&o.a.createElement(He,{offsetTop:ce,onActionClick:function(e){switch(e){case"account":r("CREATE_ACCOUNT");break;case"wallet":r("CREATE_WALLET")}}})),a.matches("signMessage")&&a.context.formData&&o.a.createElement(nt,{id:"sign-message",uiSchema:{dataToSign:{"ui:widget":mt},chainId:{"ui:widget":ut}},header:K&&o.a.createElement(et.a,{severity:"info",style:{marginBottom:"10px"},variant:"outlined"},o.a.createElement(L.a,{variant:"body1"},K&&K.origin)),schema:ee(C,"sign"),formData:G,title:"Sign",onSubmit:function(e){return r("SUBMIT",Object(s.a)(Object(s.a)({},e),{},{type:"SUBMIT"}))},onCancel:function(){return r("CANCEL")}},o.a.createElement(U.a,{type:"submit",variant:"contained",fullWidth:!0,color:"primary"},"Sign")),a.matches("signTransaction")&&a.context.formData&&o.a.createElement(nt,{id:"sign-transaction",title:"Sign Transaction",header:K&&o.a.createElement(et.a,{severity:"info",style:{marginBottom:"10px"},variant:"outlined"},o.a.createElement(L.a,{variant:"body1"},K&&K.origin)),uiSchema:{transaction:{value:{"ui:widget":ut},gas:{"ui:widget":ut},gasPrice:{"ui:widget":ut},nonce:{"ui:widget":ut}},chainId:{"ui:widget":ut}},schema:ee(C,"signTransaction"),formData:a.context.formData,onSubmit:function(e){return r("SUBMIT",Object(s.a)(Object(s.a)({},e),{},{type:"SUBMIT"}))},onCancel:function(){return r("CANCEL")}},o.a.createElement(U.a,{type:"submit",variant:"contained",fullWidth:!0,color:"primary"},"Sign")),a.matches("signTypedData")&&a.context.formData&&o.a.createElement(nt,{id:"sign-typed-data",header:K&&o.a.createElement(et.a,{severity:"info",style:{marginBottom:"10px"},variant:"outlined"},o.a.createElement(L.a,{variant:"body1"},K&&K.origin)),schema:ee(C,"signTypedData"),formData:a.context.formData,uiSchema:{chainId:{"ui:widget":ut}},title:"Sign",onSubmit:function(e){r("SUBMIT",Object(s.a)(Object(s.a)({},e),{},{type:"SUBMIT"}))},onCancel:function(){return r("CANCEL")}},o.a.createElement(U.a,{type:"submit",variant:"contained",fullWidth:!0,color:"primary"},"Sign")),a.matches("createWallet")&&o.a.createElement(nt,{id:"create-wallet",title:"Create Wallet",header:K&&o.a.createElement(et.a,{severity:"info",style:{marginBottom:"10px"},variant:"outlined"},o.a.createElement(L.a,{variant:"body1"},K&&K.origin)),skipPassphrase:!0,schema:ee(C,"importMnemonic"),formData:X,onSubmit:function(e){r("SUBMIT",Object(s.a)(Object(s.a)({},e),{},{type:"SUBMIT"}))},onCancel:function(){return r("CANCEL")}},o.a.createElement(U.a,{type:"submit",variant:"contained",fullWidth:!0,color:"primary"},"Create Wallet")),a.matches("createAccount")&&o.a.createElement(nt,{title:"Create Account",skipPassphrase:!0,schema:y||{},header:K&&o.a.createElement(et.a,{severity:"info",style:{marginBottom:"10px"},variant:"outlined"},o.a.createElement(L.a,{variant:"body1"},K&&K.origin)),uiSchema:{newAccount:{passphrase:{"ui:widget":"password"}}},widgets:{password:dt},formData:Object.assign({},{newAccount:{name:"\ud83e\uddd9\u200d\u2642\ufe0f"}},{newAccount:a.context.createData.newAccount}),onSubmit:function(e){r("SUBMIT",Object(s.a)(Object(s.a)({},e),{},{type:"SUBMIT"}))},onCancel:function(){return r("CANCEL")}},o.a.createElement(U.a,{type:"submit",variant:"contained",fullWidth:!0,color:"primary"},"Create Account")),(a.matches("signingMessage")||a.matches("creatingAccount")||a.matches("creatingWallet")||a.matches("signingTransaction")||a.matches("signingTypedData"))&&o.a.createElement(W.a,{container:!0,justify:"center",alignItems:"center",style:{paddingTop:"30px"}},o.a.createElement(fe,{content:o.a.createElement(W.a,{container:!0,direction:"column",justify:"center",alignItems:"center"},o.a.createElement(je.a,{fontSize:"large"}),o.a.createElement(L.a,{color:"textSecondary"},a.value.includes("signing")?"Signing":"Creating"))})),o.a.createElement(H.a,{id:"success",style:{position:"absolute",backgroundColor:at.a[500],top:"0",left:"0",right:"0",bottom:"0",padding:"50px",overflow:"auto",width:"100%",opacity:0,pointerEvents:a.matches("success")?"all":"none",animation:a.matches("success")||a.history&&"success"===a.history.value?"scale-".concat(a.matches("success")?"in":"out"," 0.2s cubic-bezier(0.4, 0.0, 0.2, 1) 0s both"):"none",zIndex:1300}},o.a.createElement(B.a,{id:"cancel-button",style:{position:"fixed",top:"0px",right:"5px",zIndex:1400},onClick:function(){return r("CANCEL")}},o.a.createElement(oe.a,null)),o.a.createElement(L.a,{color:"textSecondary"},o.a.createElement("span",{role:"img","aria-label":"success"},"\ud83c\udf89")," Success"),o.a.createElement("pre",{style:{overflow:"auto"}},o.a.createElement("code",null,JSON.stringify(a.context.result,null,4))),o.a.createElement(U.a,{variant:"contained",onClick:function(){return r("CANCEL")}},"Ok")),o.a.createElement(H.a,{id:"error",style:{position:"absolute",backgroundColor:rt.a[500],width:"100%",top:"0",left:"0",right:"0",bottom:"0",padding:"50px",overflow:"auto",opacity:0,pointerEvents:a.matches("error")?"all":"none",animation:a.matches("error")||a.history&&"error"===a.history.value?"scale-".concat(a.matches("error")?"in":"out"," 0.2s cubic-bezier(0.4, 0.0, 0.2, 1) 0s both"):"none",zIndex:1300}},o.a.createElement(B.a,{id:"cancel-button",style:{position:"fixed",top:"0px",right:"5px",zIndex:1400},onClick:function(){return r("CANCEL")}},o.a.createElement(oe.a,null)),o.a.createElement(L.a,{color:"textPrimary"},"Error"),o.a.createElement("pre",{style:{overflow:"auto"}},o.a.createElement("code",null,a.context.error&&JSON.stringify(a.context.error,null,4)))),o.a.createElement(H.a,{id:"request-permissions",style:{position:"absolute",width:"100%",top:"0",left:"0",right:"0",bottom:"0",padding:"50px",overflow:"auto",display:0===a.context.cards.length?"none":"block",opacity:0,pointerEvents:a.matches("requestPermissions")?"all":"none",animation:a.matches("requestPermissions")||a.history&&"requestPermissions"===a.history.value?"scale-".concat(a.matches("requestPermissions")?"in":"out"," 0.2s cubic-bezier(0.4, 0.0, 0.2, 1) 0s both"):"none",zIndex:1300}},o.a.createElement(B.a,{id:"cancel",style:{position:"fixed",top:"0px",right:"5px",zIndex:1400},onClick:function(){return r("CANCEL")}},o.a.createElement(oe.a,null)),o.a.createElement(W.a,{container:!0},o.a.createElement(W.a,{container:!0,direction:"column",style:{marginBottom:"20px"}},o.a.createElement(L.a,{variant:"h3",gutterBottom:!0},"Permissions Needed"),o.a.createElement(et.a,{severity:"info",style:{marginBottom:"10px"},variant:"outlined"},o.a.createElement(L.a,{variant:"body1"},F&&F.origin))),a.context.formData&&a.context.formData.permissions&&S.a.map(a.context.formData.permissions,(function(e,t){return o.a.createElement(W.a,{container:!0,direction:"column"},o.a.createElement($.a,{control:o.a.createElement(q.a,{checked:!0,name:t}),label:"Trust this app to [".concat(t,"]?")}),"listAccounts"===t&&o.a.createElement(o.a.Fragment,null,o.a.createElement("br",null),o.a.createElement(L.a,null,"Select account(s)"),o.a.createElement(Ct,{accounts:a.context.cards,onChange:function(e){return r("ACCOUNTS_CHANGED",{accounts:e})}})))})),o.a.createElement("div",{style:{width:"100%",marginBottom:"20px"}}),o.a.createElement(U.a,{id:"submit",variant:"contained",onClick:function(){return r("SUBMIT")}},"Trust"),o.a.createElement(U.a,{id:"cancel",onClick:function(){return r("CANCEL")}},"Decline"))),a.matches("onboarding")&&o.a.createElement(nt,{id:"onboarding",skipPassphrase:!0,schema:y||{},hideClose:!0,uiSchema:{newAccount:{passphrase:{"ui:widget":"password"}}},widgets:{password:dt},header:o.a.createElement(W.a,{container:!0,direction:"row"},o.a.createElement(W.a,{item:!0,container:!0,direction:"column"},o.a.createElement(W.a,{container:!0,justify:"space-evenly",alignContent:"space-around"},o.a.createElement(W.a,{item:!0},o.a.createElement(L.a,{variant:"h4",gutterBottom:!0,color:"textPrimary"},"Getting Started"))),o.a.createElement("br",null),o.a.createElement(L.a,{variant:"caption"},o.a.createElement("span",{role:"img","aria-label":"sig.tools"},"\ud83d\udd10"),o.a.createElement("b",null,"sig.tools"),"\xa0manages cryptographic accounts for the Ethereum stack."),o.a.createElement("br",null),o.a.createElement(L.a,{variant:"caption"},o.a.createElement(_.a,{href:"https://ethereumclassic.org/blog/2017-06-17-private-keys"},o.a.createElement("b",null,"sig.tools")," can ",o.a.createElement("b",null,"not")," recover funds"),". Keep your keyfile and password in a safe place."))),formData:a.context.createData,title:"Set Up Your Account",onSubmit:function(e){return r("SUBMIT",Object(s.a)(Object(s.a)({},e),{},{type:"SUBMIT"}))}},o.a.createElement(U.a,{id:"submit",type:"submit",variant:"contained",fullWidth:!0,color:"primary"},"Submit")),o.a.createElement(xt,{open:f,onClose:function(){h(!1)},capabilitiesList:de,onRemoveCapability:function(e){Xe&&(Xe.removePermissionsFor(e.invoker,[e]),pe(Object.entries(Xe.getDomains())))}}))};n(970);i.a.render(o.a.createElement(Tt,null),document.getElementById("root"))}},[[480,1,2]]]);