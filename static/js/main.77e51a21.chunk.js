(this["webpackJsonp@etclabscore/sig.tools"]=this["webpackJsonp@etclabscore/sig.tools"]||[]).push([[0],{104:function(e){e.exports=JSON.parse('{"openrpc":"1.1.12","info":{"version":"0.0.1","title":"Sig.tools","description":"\ud83d\udd10 sig.tools is a tool to enable the offline distributed generation and management of cryptographic accounts for the Ethereum Stack.","license":{"name":"Apache 2.0","url":"https://www.apache.org/licenses/LICENSE-2.0.html"}},"servers":[{"name":"sig.tools","description":"sig.tools JSON-RPC API is available over `postMessage`.","url":"http://sig.tools"}],"methods":[{"name":"listAccounts","summary":"Return the list of all not hidden (by default) accounts from the keystore","params":[{"$ref":"#/components/contentDescriptors/Hidden"}],"result":{"name":"accounts","description":"List of accounts according to flag","schema":{"$ref":"#/components/schemas/Accounts"}}},{"name":"listWallets","summary":"Return the list of all not hidden (by default) wallets from the keystore","params":[{"$ref":"#/components/contentDescriptors/Hidden"}],"result":{"name":"wallets","description":"List of all wallets according to hidden flag","schema":{"$ref":"#/components/schemas/Wallets"}}},{"name":"hideAccount","summary":"Hide an account from the list returned by default by `signer_listAccounts`","params":[{"$ref":"#/components/contentDescriptors/Address"}],"result":{"name":"hideAccountResult","description":"`true` if required account exists","schema":{"$ref":"#/components/schemas/AccountExists"}}},{"name":"unhideAccount","summary":"Show an account that was hidden before by the command `signer_hideAccount`","params":[{"$ref":"#/components/contentDescriptors/Address"}],"result":{"name":"unhideAccountResult","description":"`accept` (Boolean) - `true` if required account exists","schema":{"$ref":"#/components/schemas/AccountExists"}}},{"name":"createAccount","summary":"Creates a new account and stores it locally as a passphrase-encoded keystore file.","params":[{"name":"newAccount","description":"Creates a new account and stores it locally as a passphrase-encoded keystore file.","schema":{"title":"newAccount","type":"object","properties":{"name":{"title":"accountName","description":"account name","type":"string"},"description":{"title":"accountDescription","description":"account description","type":"string"},"passphrase":{"$ref":"#/components/schemas/Passphrase"},"privateKey":{"title":"privateKey","description":"optional private key field for importing","type":"string"}},"required":["name","passphrase"]},"required":true}],"result":{"$ref":"#/components/contentDescriptors/Address"},"examples":[{"name":"newAccountExample","description":"Example of creating a new account","params":[{"name":"testAccount","value":{"name":"my test wallet","description":"my test wallet description"}}],"result":{"name":"newAccountResultExample","value":"0x90ee510fb88ea47a84b45a6d983a0bc6b193e385"}}]},{"name":"signTransaction","summary":"Signs transaction offline with private key from keystore file with given from address and passphrase.","params":[{"name":"transaction","description":"transaction to sign","summary":"transaction","required":true,"schema":{"$ref":"#/components/schemas/Transaction"}},{"name":"chainId","required":true,"description":"chain id for the transaction","summary":"chain id for the transaction","schema":{"$ref":"#/components/schemas/ChainId"}}],"result":{"name":"signedTransaction","description":"Hex-encoded signed raw transaction data","schema":{"$ref":"#/components/schemas/HexString"}}},{"name":"signTypedData","summary":"Signs v4 typed data with private key from keystore file with given from address and passphrase.","params":[{"name":"typedData","description":"typedData to sign","summary":"EIP 712 TypedData","required":true,"schema":{"$ref":"#/components/schemas/SignedTypedData"}},{"name":"address","description":"address to send transaction to","summary":"Address to send transaction from","required":true,"schema":{"$ref":"#/components/schemas/Address"}},{"name":"chainId","required":true,"description":"chainId for tthe signed type data transaction","summary":"transaction chainId","schema":{"$ref":"#/components/schemas/ChainId"}}],"result":{"name":"signedTypedData","description":"Hex-encoded signed raw typed data","schema":{"title":"signedTypedDataResult","type":"object","properties":{"signature":{"$ref":"#/components/schemas/HexString"},"encodedData":{"$ref":"#/components/schemas/HexString"}},"required":["signature","encodedData"]}},"examples":[{"name":"signedTypeDataExample","description":"A signedTypedData Example","params":[{"name":"signedTypedData","description":"SignedTypedData object","summary":"Example signed typed data payload","value":{"types":{"EIP712Domain":[{"name":"name","type":"string"},{"name":"version","type":"string"},{"name":"chainId","type":"uint256"},{"name":"verifyingContract","type":"address"}],"Person":[{"name":"name","type":"string"},{"name":"wallet","type":"address"}],"Mail":[{"name":"from","type":"Person"},{"name":"to","type":"Person"},{"name":"contents","type":"string"}]},"primaryType":"Mail","domain":{"name":"Ether Mail","version":"1","chainId":1,"verifyingContract":"0xCcCCccccCCCCcCCCCCCcCcCccCcCCCcCcccccccC"},"message":{"from":{"name":"Cow","wallet":"0xCD2a3d9F938E13CD947Ec05AbC7FE734Df8DD826"},"to":{"name":"Bob","wallet":"0xbBbBBBBbbBBBbbbBbbBbbbbBBbBbbbbBbBbbBBbB"},"contents":"Hello, Bob!"}}},{"name":"address","description":"Sender address","summary":"Address to send sign typed data from","value":"0xCD2a3d9F938E13CD947Ec05AbC7FE734Df8DD826"},{"name":"chainId","description":"chainId for transaction","summary":"chainId to sign the data with","value":"0x6"}],"result":{"name":"signedTypedDataExampleResult","description":"An example result of the signedTyped Data","summary":"Demonstrates the return format of example","value":{"signature":"0x4355c47d63924e8a72e509b65029052eb6c299d53a04e167c5775fd466751c9d07299936d304c153f6443dfa05f40ff007d72911b6f72307f996231605b9156226","encodedData":"0xbe609aee343fb3c4b28e1df9e632fca64fcfaede20f02e86244efddf30957bd2"}}}]},{"name":"importKeyfile","summary":"Import an account from Keyfile","description":"Import a new account from an external keyfile. should comply with the [Web3 Secret Storage Definition](https://github.com/ethereumproject/wiki/wiki/Web3-Secret-Storage-Definition)","params":[{"$ref":"#/components/contentDescriptors/Keyfile"}],"result":{"$ref":"#/components/contentDescriptors/Address"}},{"name":"generateMnemonic","summary":"Generate a mnemonic phrase","description":"Generates a new 24 words long mnemonic phrase","params":[],"result":{"name":"mnemonicPhrase","description":"Mnemonic phrase is a list of 24 words","schema":{"$ref":"#/components/schemas/Mnemonic"}}},{"name":"importMnemonic","summary":"Import a mnemonic phrase","description":"Creates a new account from a mnemonic and stores it locally as a passphrase-encoded keystore file.","params":[{"required":true,"name":"importMnemonicOptions","schema":{"title":"importMnemonicOptions","type":"object","required":["mnemonic","hdPath","passphrase"],"properties":{"mnemonic":{"$ref":"#/components/schemas/Mnemonic"},"name":{"title":"mnemonicName","type":"string"},"description":{"title":"mnemonicDescription","type":"string"},"passphrase":{"$ref":"#/components/schemas/Passphrase"},"hdPath":{"title":"mnemonicHDPath","type":"string"}}}}],"result":{"name":"uuidResult","schema":{"type":"string"}},"examples":[{"name":"importMnemonicExample","description":"example of importing a mnemonic phrase","params":[{"name":"importMnemonicOptionsExample","description":"example of import mnemonic options","value":{"name":"my imported wallet","description":"my imported wallet description","hdPath":"m/44/60/160720\'/0","mnemonic":"icon suggest road current ripple engage spell clay route large arena climb oxygen electric cupboard dream title immune fit beyond mouse slab bronze salad"}}],"result":{"name":"importMnemonicResultExample","description":"example of import mnemonic result","value":"35ee9c7a-8ce5-48b7-80c3-7ad6602d43f4"}}]},{"name":"getAccountFromMnemonic","summary":"Get account from mnemonic wallet","description":"Returns address of account computed from the HDWallet specified","params":[{"name":"accountFromMnemonicOptions","description":"mnemonic account generation options","required":true,"schema":{"title":"AccountMnemonicOptions","type":"object","properties":{"uuid":{"title":"uuid","schema":{"type":"string"}},"index":{"title":"index","schema":{"type":"number"}}},"required":["uuid"]}}],"result":{"$ref":"#/components/contentDescriptors/Address"},"examples":[{"name":"getAccountFromMnemonicExample","description":"example of importing a mnemonic phrase","params":[{"name":"accountFromMnemonicOptions","description":"example of get mnemonic account","value":{"uuid":"35ee9c7a-8ce5-48b7-80c3-7ad6602d43f4"}}],"result":{"name":"getAccountFromMnemonicResultExample","description":"example of get account from mnemonic result","value":"0xa0dfb14b391590faff0d6b37bf2916f27cd15a28"}}]},{"name":"exportAccount","summary":"Export an account","description":"Export a keyfile associated with account. Keyfile uses the [Web3 Secret Storage Definition](https://github.com/ethereumproject/wiki/wiki/Web3-Secret-Storage-Definition)","params":[{"$ref":"#/components/contentDescriptors/Address"}],"result":{"$ref":"#/components/contentDescriptors/Keyfile"}},{"name":"sign","summary":"Sign a message","description":"Calculates an Ethereum-specific signature in the form of keccak256(\\"\\\\x19Ethereum Signed Message:\\n\\" + len(message) + message))","params":[{"name":"dataToSign","description":"data to sign","summary":"sign data","schema":{"$ref":"#/components/schemas/HexString"},"required":true},{"name":"address","required":true,"schema":{"$ref":"#/components/schemas/Address"}},{"name":"chainId","required":true,"description":"chain id for the transaction","summary":"chain id for the transaction","schema":{"$ref":"#/components/schemas/ChainId"}}],"result":{"name":"signedMessageData","description":"signature hash of the provided data","schema":{"$ref":"#/components/schemas/HexString"}},"examples":[{"name":"signMessageExample","params":[{"name":"dataToSign","value":"0x74657374"},{"name":"address","value":"0x90ee510fb88ea47a84b45a6d983a0bc6b193e385"},{"name":"chainId","value":"0x3d"}],"result":{"name":"signMessageResultExample","description":"The signed message","value":"0xb93eaad09a1ce33bf9b500a73be6faf5d2d4816a563f4ebce0f14f9e38e9583640163b319ccc33a84a435799226438f2376ec851ea82aa49b34675ac8c6fc1039e"}}]}],"components":{"schemas":{"AccountExists":{"title":"AccountExists","type":"boolean"},"Address":{"title":"address","type":"string","pattern":"^0x[a-fA-F\\\\d]{40}$"},"Account":{"title":"Account","type":"object","required":["address","hidden"],"properties":{"address":{"$ref":"#/components/schemas/Address"},"name":{"title":"accountName","type":"string"},"description":{"title":"accountDescription","type":"string"},"hidden":{"$ref":"#/components/schemas/Hidden"}}},"Accounts":{"title":"accounts","type":"array","items":{"$ref":"#/components/schemas/Account"}},"ChainId":{"title":"chainId","type":"string","pattern":"^0x[a-fA-F0-9]+$"},"HexString":{"title":"hexString","type":"string","pattern":"^0x[a-fA-F0-9]+$"},"Hidden":{"title":"hidden","type":"boolean"},"Keyfile":{"title":"keyfile","type":"object","properties":{"version":{"type":"integer"},"id":{"type":"string"},"crypto":{"title":"crypto","type":"object","properties":{"ciphertext":{"type":"string"},"cipherparams":{"type":"object","properties":{"iv":{"title":"iv","type":"string"}}},"cipher":{"type":"string"},"kdf":{"type":"string"},"kdfparams":{"type":"object","properties":{"dklen":{"title":"dklen","type":"integer"},"salt":{"type":"string"},"n":{"type":"integer"},"r":{"type":"integer"},"p":{"type":"integer"}},"required":["dklen","salt","n","r","p"]},"mac":{"type":"string"}},"required":["kdfparams","kdf","cipher","cipherparams","ciphertext","mac"]}},"required":["crypto","id","version"]},"Nonce":{"title":"nonce","description":"A number only to be used once","pattern":"^0x[a-fA-F0-9]+$","type":"string"},"Mnemonic":{"title":"mnemonic","type":"string","description":"a list of 24 words"},"Passphrase":{"title":"passphrase","description":"passphrase used to encode keyfile (recommend to use 8+ words with good entropy)","type":"string"},"SignedTypedData":{"title":"SignedTypedData","type":"object","properties":{"types":{"type":"object","title":"types","properties":{"EIP712Domain":{"title":"eip712Domain","type":"array","items":{"$ref":"#/components/schemas/TypedData"}}},"additionalProperties":{"type":"array","items":{"$ref":"#/components/schemas/TypedData"}},"required":["EIP712Domain"]},"primaryType":{"type":"string"},"domain":{"type":"object"},"message":{"type":"object"}},"required":["types","primaryType","domain","message"]},"Transaction":{"title":"transaction","type":"object","required":["from","gas","gasPrice","nonce"],"properties":{"from":{"description":"Address of the sender","$ref":"#/components/schemas/Address"},"gas":{"title":"gas","type":"string","pattern":"^0x[a-fA-F0-9]+$","description":"The gas limit provided by the sender in Wei"},"gasPrice":{"title":"gasPrice","type":"string","pattern":"^0x[a-fA-F0-9]+$","description":"The gas price willing to be paid by the sender in Wei"},"data":{"title":"data","type":"string","pattern":"^0x[a-fA-F0-9]+$","description":"The data field sent with the transaction"},"nonce":{"title":"nonce","description":"The total number of prior transactions made by the sender","$ref":"#/components/schemas/Nonce"},"to":{"description":"address of the receiver. null when its a contract creation transaction","$ref":"#/components/schemas/Address"},"value":{"description":"Value of Ether being transferred in Wei","$ref":"#/components/schemas/Wei"}}},"TypedData":{"title":"TypedData","type":"object","properties":{"name":{"type":"string"},"type":{"type":"string"}}},"UUID":{"title":"uuid","type":"string","pattern":"^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[4][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}$"},"Wallet":{"title":"Wallet","type":"object","required":["uuid","hdPath","hidden"],"properties":{"uuid":{"$ref":"#/components/schemas/UUID"},"name":{"title":"walletName","type":"string"},"description":{"title":"walletDescription","type":"string"},"hdPath":{"title":"hdPath","type":"string"},"hidden":{"$ref":"#/components/schemas/Hidden"}}},"Wallets":{"title":"wallets","type":"array","items":{"$ref":"#/components/schemas/Wallet"}},"Wei":{"title":"wei","type":"string","description":"Hex representation of Wei","pattern":"^0x[a-fA-F0-9]+$"}},"contentDescriptors":{"Address":{"name":"address","summary":"Account address","required":true,"description":"hex-encoded 20 bytes public address","schema":{"$ref":"#/components/schemas/Address"}},"Hidden":{"name":"hidden","summary":"visible flag parameter","description":"A parameter to hide or show an account or feature","schema":{"$ref":"#/components/schemas/Hidden"}},"Keyfile":{"name":"keyfile","required":true,"summary":"keyfile - secret storage","description":"keyfile in json format that MUST comply with the [Web3 Secret Storage Definition](https://github.com/ethereumproject/wiki/wiki/Web3-Secret-Storage-Definition)","schema":{"$ref":"#/components/schemas/Keyfile"}},"ChainId":{"name":"chainId","summary":"Chain Idenifier for blockchain","description":"Specifies which chain to utilize","schema":{"$ref":"#/components/schemas/ChainId"}},"UUID":{"name":"uuid","summary":"UUIDv4 idenitifer for wallet","required":true,"description":"UUIDv4 identifier for HD wallet","schema":{"$ref":"#/components/schemas/UUID"}}}}}')},1146:function(e,t){},1164:function(e,t){},1191:function(e,t){},1429:function(e,t){},1523:function(e,t,a){},1524:function(e,t,a){"use strict";a.r(t);var n=a(34),r=a.n(n),i=a(0),c=a.n(i),o=a(10),s=a(408),u=a(36),l=a(133),m=a(621),d=a(1592),p=a(1593),f=a(1594),h=a(1528),g=a(1595),y=a(1575),b=a(640),E=a(1572),v=a(1597),x=a(639),S=a(1577),j=a(1602),w=a(104),O=a(1582),C=a(1583),T=a(1535),A=a(409),I=a(1584),D=a(1585),k=a(292),M=a.n(k),B=function(e,t){var a=e.methods.find((function(e){return e.name===t}));if(a)return{type:"object",properties:a.params&&a.params.reduce((function(e,t){return e[t.name]=Object(o.a)(Object(o.a)({},t.schema),{},{markdownDescription:t.description||t.summary,description:t.description||t.summary,additionalProperties:!1}),e}),{})}},N=(a(880),a(136)),R=a(405),P=a.n(R),W=a(1603),U=a(305),L=a(152),$=a(1581),q=a(134),H=a(88),_=a(641),F=function(e){var t=e.fields,a=c.a.useState([]),n=Object(u.a)(a,2),r=n[0],o=n[1];Object(i.useEffect)((function(){o((function(e){return Array(t).fill("").map((function(t,a){return e[a]||Object(i.createRef)()}))}))}),[t]);var s=Object(i.useState)([]),l=Object(u.a)(s,2),m=l[0],d=l[1],p=Object(i.useState)(0),f=Object(u.a)(p,2),h=f[0],g=f[1];return Object(i.useEffect)((function(){r[h]&&r[h].current&&r[h].current.focus()}),[h,r]),c.a.createElement(y.a,{container:!0,justify:"center",alignItems:"center"},"_".repeat(e.fields).split("").map((function(t,a){return c.a.createElement(_.a,{inputProps:{autoComplete:"new-password"},autoFocus:a===h,className:"codeInput",inputRef:r[a],type:e.type,style:{background:"#323232",borderRadius:"4px",padding:"0px 10px",marginRight:"5px",width:"30px"},value:m[a]||"",onFocus:function(){return g(a)},required:!0,onKeyDown:function(e){8===e.keyCode&&g((function(e){var t=e-1;if(r[e]&&r[e].current){var a=[].concat(Object(H.a)(m.slice(0,e)),Object(H.a)(m.slice(e+1)));d(a)}return-1===t?e:t}))},onChange:function(t){var n=t.target.value;if(n){var r=Object(H.a)(m),i=t.target.value.split("");if(i.length>0)if(function(t){var a=h+(t||1);return!(a>=e.fields)&&(g(a),!0)}(i.length)||0===h||i.length===e.fields)for(var c=0;c<i.length;c++){var o=i[c];r=Object.assign([],r,Object(q.a)({},h+c,o))}else r=Object.assign([],r,Object(q.a)({},h,i[i.length-1]));else n=i[i.length-1],r=Object.assign([],m,Object(q.a)({},a,n));d(r),e.onChange(r.join(""))}}})})),c.a.createElement(_.a,{style:{display:"none"},type:"text",inputProps:{autoComplete:"user"},value:""}),c.a.createElement(_.a,{style:{display:"none"},type:"password",inputProps:{autoComplete:"new-password"},value:m.join("")||""}))},z=function(e){return c.a.createElement(y.a,{container:!0,justify:"center",alignContent:"center"},c.a.createElement(F,{type:"password",fields:8,onChange:e.onChange,value:e.value}))},G=Object(L.withTheme)(U.a),K=c.a.memo((function(e){return c.a.createElement(W.a,{open:e.open,anchor:"bottom",onClose:e.onClose,style:{position:"relative"}},c.a.createElement(h.a,{id:"cancel-button",style:{position:"absolute",top:"0px",right:"5px"},onClick:e.onClose},c.a.createElement($.a,null)),c.a.createElement("div",{id:e.id,style:{maxHeight:"90%",maxWidth:"400px",margin:"0 auto",paddingLeft:"25px",paddingRight:"25px",paddingBottom:"5px",paddingTop:"35px"}},e.header,c.a.createElement(G,{noHtml5Validate:!0,schema:e.schema,showErrorList:!1,formData:e.formData,liveValidate:!0,widgets:{password:z},uiSchema:Object(o.a)({"ui:autoFocus":!0},e.uiSchema),onChange:e.onChange,onSubmit:e.onSubmit},c.a.createElement(E.a,{style:{marginTop:"10px"},type:"submit",variant:"contained",fullWidth:!0,color:"primary"},"Sign"))))})),J=a(303),X=a(635),Y=function(e){var t=e.cards,a=e.onCardSelect;return c.a.createElement(c.a.Fragment,null,t.map((function(e,t){return c.a.createElement(A.a,{key:t,onClick:function(){return a&&a(e)},tabIndex:t+3,onKeyDown:function(t){13===t.keyCode&&a&&a(e)},style:{margin:"4px",padding:"0",borderRadius:"10px",position:"relative",textAlign:"left"}},c.a.createElement(te,{card:e}))})))},V={minHeight:"150px",width:"300px",borderRadius:"10px",background:"transparent",margin:"0px",display:"flex"},Q={flexGrow:1,padding:0,margin:"16px",display:"flex"},Z={borderRadius:"10px",width:"145px",minHeight:"115px"},ee={width:"145px",minHeight:"115px",borderRadius:"10px"},te=function(e){var t=Object(l.useService)(e.card.ref),a=Object(u.a)(t,2),n=a[0],r=a[1],s=Object(i.useState)(),m=Object(u.a)(s,2),d=m[0],p=m[1],f=Object(J.a)().value?new P.a({lightness:[.3,.3,.3],saturation:[.4,.5,.6]}):new P.a({lightness:[.7,.37,.7],saturation:[.4,.5,.6]});return Object(i.useEffect)((function(){M.a.dereference(w||{}).then(p).catch((function(e){console.error("REFPARSER ERROR",e)}))}),[]),c.a.createElement(c.a.Fragment,null,d&&n.matches("selected")&&c.a.createElement(K,{schema:B(d,"sign"),formData:{address:e.card.address},open:n.matches({selected:"signMessage"}),onSubmit:function(e){return r("SUBMIT",e)},onClose:function(){return r("CANCEL")}}),d&&n.matches("selected")&&c.a.createElement(K,{schema:B(d,"signTransaction"),formData:{transaction:{from:e.card.address}},open:n.matches({selected:"signTransaction"}),onSubmit:function(){return r("SUBMIT")},onClose:function(){return r("CANCEL")}}),d&&n.matches("selected")&&c.a.createElement(K,{schema:B(d,"signTypedData"),formData:{address:e.card.address},open:n.matches({selected:"signTypedData"}),onSubmit:function(){return r("SUBMIT")},onClose:function(){return r("CANCEL")}}),c.a.createElement(y.a,{container:!0,direction:"column",justify:"center",alignItems:"center"},c.a.createElement(O.a,{style:Object(o.a)(Object(o.a)({},V),{},{position:"relative",overflow:"visible",cursor:n.matches("selected")?"initial":"pointer",zIndex:n.history&&"selected"===n.history.value||n.matches("selected")?1200:1}),className:n.matches("initial")&&n.history&&!1===n.history.matches("selected")?"fade-in":""},c.a.createElement(C.a,{style:Object(o.a)(Object(o.a)({},Q),{},{zIndex:10})},c.a.createElement(y.a,{container:!0,direction:"column",justify:"space-between",style:{width:"265px"}},c.a.createElement(y.a,{container:!0,justify:"space-between"},c.a.createElement(N.a,{flipId:"account-".concat(e.card.name,"-").concat(e.card.address||e.card.uuid,"-name"),spring:"stiff",translate:!0},c.a.createElement("div",{style:{width:"230px",overflow:"hidden",textOverflow:"elipsis"}},c.a.createElement(b.a,{color:"textSecondary"},e.card.name))),c.a.createElement(N.a,{flipId:"account-".concat(e.card.name,"-").concat(e.card.address||e.card.uuid,"-hd"),spring:"stiff",translate:!0},e.card.uuid?c.a.createElement(T.a,{title:"HD Wallet"},c.a.createElement(I.a,null)):c.a.createElement(T.a,{title:"Account"},c.a.createElement(D.a,null)))),c.a.createElement(N.a,{flipId:"account-".concat(e.card.name,"-").concat(e.card.address||e.card.uuid,"-").concat(e.card.description,"-description"),spring:"stiff",translate:!0},c.a.createElement(b.a,{style:{fontSize:"14px"}},e.card.description)),c.a.createElement(N.a,{flipId:"account-".concat(e.card.name,"-").concat(e.card.address||e.card.uuid,"-address"),spring:"stiff",translate:!0,scale:!0},c.a.createElement(b.a,{style:{fontSize:"12px",fontFamily:"mono"}},e.card.address||e.card.uuid)),e.card.address&&c.a.createElement("div",{style:{animation:"qrcode-in 0.25s ease-in-out 0.05s both",opacity:n.matches("selected")?1:0,display:n.matches("selected")?"inherit":"none",margin:"0 auto",marginTop:"10px"}},c.a.createElement(X.QRCode,{value:e.card.address,bgColor:"transparent",size:240,quietZone:0,qrStyle:"dots"})))),c.a.createElement(N.a,{flipId:"account-".concat(e.card.address||e.card.uuid,"-background"),spring:"stiff"},c.a.createElement("div",{style:{margin:0,borderRadius:"10px",background:f.hex(e.card.address||e.card.uuid||"default").toString(),opacity:1},className:"card-background"}))),n.matches("selected")&&e.card.address&&c.a.createElement(y.a,{container:!0,justify:"center",alignItems:"center",style:{width:"300px",marginTop:"10px"}},c.a.createElement(A.a,{style:Object(o.a)(Object(o.a)({},ee),{},{marginRight:"5px",marginBottom:"5px",animation:"item-in 0.25s ease-in-out 0.05s both"}),onClick:function(){return e.onSignTransaction&&e.onSignTransaction(e.card)}},c.a.createElement(O.a,{style:Object(o.a)(Object(o.a)({},Z),{},{width:"100%",height:"100%"})},c.a.createElement(C.a,null,c.a.createElement(b.a,null,c.a.createElement("span",{role:"img","aria-label":"sign-transaction"},"\u270d\ufe0f")),c.a.createElement(b.a,null,"Sign Transaction")))),c.a.createElement(A.a,{style:Object(o.a)(Object(o.a)({},ee),{},{marginLeft:"5px",marginBottom:"5px",animation:"item-in 0.25s ease-in-out 0.05s both"}),onClick:function(){return e.onSignMessage&&e.onSignMessage(e.card)}},c.a.createElement(O.a,{style:Object(o.a)(Object(o.a)({},Z),{},{width:"100%",height:"100%"})},c.a.createElement(C.a,{style:{width:"80%",margin:"0 auto"}},c.a.createElement(b.a,null,c.a.createElement("span",{role:"img","aria-label":"sign-message"},"\ud83d\udd0f")),c.a.createElement(b.a,null,"Sign Message")))),c.a.createElement(A.a,{style:Object(o.a)(Object(o.a)({},ee),{},{marginRight:"5px",marginTop:"5px",animation:"item-in 0.25s ease-in-out 0.15s both"}),onClick:function(){return e.onSignTypedData&&e.onSignTypedData(e.card)}},c.a.createElement(O.a,{style:Object(o.a)(Object(o.a)({},Z),{},{width:"100%",height:"100%"})},c.a.createElement(C.a,null,c.a.createElement(b.a,null,c.a.createElement("span",{role:"img","aria-label":"sign-typed-data"},"\ud83d\udcdd")),c.a.createElement(b.a,null,"Sign Typed Data")))),c.a.createElement(A.a,{style:Object(o.a)(Object(o.a)({},ee),{},{marginLeft:"5px",marginTop:"5px",animation:"item-in 0.25s ease-in-out 0.15s both"}),onClick:function(){var t,a,n;null===(t=e.card)||void 0===t||null===(a=t.ref)||void 0===a||null===(n=a.parent)||void 0===n||n.send("EXPORT",{address:e.card.address})}},c.a.createElement(O.a,{style:Object(o.a)(Object(o.a)({},Z),{},{width:"100%",height:"100%"})},c.a.createElement(C.a,null,c.a.createElement(b.a,null,c.a.createElement("span",{role:"img","aria-label":"export-account"},"\ud83d\udd11")),c.a.createElement(b.a,null,"Export Account"))))),n.matches("selected")&&e.card.uuid&&c.a.createElement(y.a,{style:{marginTop:"10px"},container:!0,justify:"center",alignItems:"center",direction:"column"},c.a.createElement("div",{style:{width:"300px",marginBottom:"10px"}},c.a.createElement(A.a,{style:Object(o.a)(Object(o.a)({},ee),{},{marginRight:"5px",marginBottom:"5px",animation:"item-in 0.25s ease-in-out 0.20s both"}),onClick:function(){return r("SHOW_SIGN_TRANSACTION")}},c.a.createElement(O.a,{style:Object(o.a)(Object(o.a)({},Z),{},{width:"100%",height:"100%"})},c.a.createElement(C.a,null,c.a.createElement(b.a,null,c.a.createElement("span",{role:"img","aria-label":"new-account"},"\ud83d\udd10")),c.a.createElement(b.a,null,"New"),c.a.createElement(b.a,null,"Account"))))),c.a.createElement("div",{style:{animation:"item-in 0.25s ease-in-out 0.30s both"}},c.a.createElement(b.a,null,"Accounts")),c.a.createElement(y.a,{container:!0,justify:"center",alignItems:"center",style:{animation:e.hideAccountEntryAnimation?"none":"item-in 0.25s ease-in-out 0.30s both"}},c.a.createElement(Y,{cards:n.context.card.accounts||[],onCardSelect:function(e){window.scroll({top:0}),e.ref&&e.ref.parent&&e.ref.parent&&e.ref.parent.parent&&e.ref.parent.parent.send("CARD.SELECT",e)}})))))},ae=a(1596),ne=a(40),re=a(1586),ie=a(1587),ce=a(1599),oe=a(1588),se=a(1589),ue=c.a.memo((function(e){var t=e.onDarkModeChange,a=e.darkMode,n=e.topItem,r=e.backItem,i=Object(ne.a)();return c.a.createElement(c.a.Fragment,null,c.a.createElement(re.a,{elevation:0,position:"fixed"},c.a.createElement(ie.a,{style:{background:i.palette.background.default}},c.a.createElement(ce.a,{width:"50px"},r),c.a.createElement(ce.a,{flexGrow:1,style:{marginRight:"30px"}},n),c.a.createElement(T.a,{title:"Toggle Theme"},c.a.createElement(h.a,{onClick:function(){return t(!!a)},tabIndex:2},a?c.a.createElement(oe.a,null):c.a.createElement(se.a,null))))))})),le=a(637),me=a(407),de=a.n(me),pe={h1:{fontSize:"2.25rem",fontWeight:400},h2:{fontSize:"2rem",letterSpacing:"0",fontWeight:400},h3:{fontSize:"1.75rem",fontWeight:400},h4:{fontSize:"1.5rem",fontWeight:400},h5:{fontSize:"1.25rem",fontWeight:400},h6:{fontSize:"1.1rem",fontWeight:400},body1:{fontSize:"1.06rem"},fontSize:17},fe=Object(le.a)({props:{MuiAppBar:{position:"sticky"},MuiCard:{elevation:0}},overrides:{MuiAppBar:{root:{background:"#fff !important"}}},palette:{background:{default:"#fff"}},typography:pe}),he=Object(le.a)({props:{MuiAppBar:{position:"sticky"},MuiCard:{elevation:0}},palette:{type:"dark",background:{default:"black",paper:de.a[800]}},overrides:{MuiAppBar:{root:{background:"transparent !important"}},MuiTable:{root:{background:"transparent !important"}},MuiTypography:{root:{color:de.a[400]}}},typography:pe}),ge=a(1605),ye=a(1604),be=a(1590),Ee=[{icon:c.a.createElement(D.a,null),name:"New Account",id:"account"}],ve=c.a.memo((function(e){var t=c.a.useState(!1),a=Object(u.a)(t,2),n=a[0],r=a[1];return c.a.createElement(ge.a,{ariaLabel:"Create",icon:c.a.createElement(ye.a,null),onClick:function(){return r(!n)},open:n,style:{position:"fixed",top:e.offsetTop?"125px":"75px",right:"25px",zIndex:10},direction:"down"},Ee.map((function(t){return c.a.createElement(be.a,{key:t.id,icon:t.icon,tooltipTitle:t.name,onClick:function(){r(!1),e.onActionClick(t.id)}})})))})),xe=c.a.memo((function(){return c.a.createElement(y.a,{container:!0,justify:"center",alignItems:"center"},c.a.createElement(b.a,{variant:"h6",color:"textSecondary",style:{fontWeight:900}},c.a.createElement("span",{role:"img","aria-label":"sig.tools-lock"},"\ud83d\udd10")," sig.tools"))})),Se=a(11),je=a.n(Se),we=a(65),Oe=a(290),Ce=a(291),Te=Object(Oe.methods)(new Ce.a),Ae=function(e){var t=function(){var e=Object(we.a)(je.a.mark((function e(){return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Te.listAccounts());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{sign:function(){var t=Object(we.a)(je.a.mark((function t(a,n,r,i){return je.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.appStateMachine.state.context.cards.find((function(e){return e.address===n}))&&e.appStateMachine.send("SHOW_SIGN_MESSAGE",{dataToSign:a,address:n,chainId:r,domain:i}),t.abrupt("return",new Promise((function(t,a){e.appStateMachine.stateMachineInstance.onTransition((function n(r,i){"CANCEL"===i.type?(e.appStateMachine.stateMachineInstance.off(n),a(new Error("User Rejected Request"))):"success"===r.value&&(e.appStateMachine.stateMachineInstance.off(n),t(r.context.result))}))})));case 3:case"end":return t.stop()}}),t)})));return function(e,a,n,r){return t.apply(this,arguments)}}(),signTransaction:function(){var t=Object(we.a)(je.a.mark((function t(a,n,r){var i;return je.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=e.appStateMachine.state.context.cards.find((function(e){return e.address===a.from})),r||(r=n,n=void 0),i&&e.appStateMachine.send("SHOW_SIGN_TRANSACTION",{transaction:a,chainId:n,domain:r}),t.abrupt("return",new Promise((function(t,a){e.appStateMachine.stateMachineInstance.onTransition((function n(r,i){"CANCEL"===i.type?(e.appStateMachine.stateMachineInstance.off(n),a(new Error("User Rejected Request"))):"success"===r.value&&(e.appStateMachine.stateMachineInstance.off(n),t(r.context.result))}))})));case 4:case"end":return t.stop()}}),t)})));return function(e,a,n){return t.apply(this,arguments)}}(),signTypedData:function(){var t=Object(we.a)(je.a.mark((function t(a,n,r,i){return je.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.appStateMachine.state.context.cards.find((function(e){return e.address===n}))&&e.appStateMachine.send("SHOW_SIGN_TYPED_DATA",{typedData:a,address:n,chainId:r,domain:i}),t.abrupt("return",new Promise((function(t,a){e.appStateMachine.stateMachineInstance.onTransition((function n(r,i){"CANCEL"===i.type?(e.appStateMachine.stateMachineInstance.off(n),a(new Error("User Rejected Request"))):"success"===r.value&&(e.appStateMachine.stateMachineInstance.off(n),t(r.context.result))}))})));case 3:case"end":return t.stop()}}),t)})));return function(e,a,n,r){return t.apply(this,arguments)}}(),createAccount:function(){var t=Object(we.a)(je.a.mark((function t(a,n){return je.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.appStateMachine.send("CREATE_ACCOUNT",{newAccount:a,domain:n}),t.abrupt("return",new Promise((function(t,a){e.appStateMachine.stateMachineInstance.onTransition((function n(r,i){"CANCEL"===i.type?(e.appStateMachine.stateMachineInstance.off(n),a(new Error("User Rejected Request"))):"success"===r.value&&(e.appStateMachine.stateMachineInstance.off(n),t(r.context.result))}))})));case 2:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),importMnemonic:function(){var t=Object(we.a)(je.a.mark((function t(a,n){return je.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.appStateMachine.send("CREATE_WALLET",{importMnemonicOptions:a,domain:n}),t.abrupt("return",new Promise((function(t,a){e.appStateMachine.stateMachineInstance.onTransition((function n(r,i){"CANCEL"===i.type?(e.appStateMachine.stateMachineInstance.off(n),a(new Error("User Cancelled"))):"success"===r.value&&(e.appStateMachine.stateMachineInstance.off(n),t(r.context.result))}))})));case 2:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),listAccounts:t}},Ie=a(115),De=a.n(Ie),ke=a(1141),Me=a(620),Be=function(e,t){var a=e.params.map((function(e){return e.name})).reduce((function(e,t,a){return Object(o.a)(Object(o.a)({},e),{},Object(q.a)({},t,a))}),{});return Object.entries(t).sort((function(e,t){return a[e[0]]-a[t[0]]})).map((function(e){var t=Object(u.a)(e,2);t[0];return t[1]}))},Ne={},Re=function(e,t,a){var n,r=function(){var e=Object(we.a)(je.a.mark((function e(a){return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){t.send("REQUEST_PERMISSIONS",a);t.onTransition((function r(i,c){"CANCEL"===c.type?(t.off(r),n(new Error("User Rejected Request"))):"SUBMIT"===c.type&&(t.off(r),e(a.permissions))}))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i=["createAccount","sign","signTypedData","signTransaction"];if(Ne[a.origin])n=Ne[a.origin];else{var c=De.a.chain(e).reduce((function(t,n,r){var c=w.methods.find((function(e){return e.name===r}));return i.includes(c.name)||(t[r]={description:c.description,method:function(t,n,i,o){var s=t.params instanceof Array?t.params:Be(c,t.params);e[r].apply(e,Object(H.a)(s).concat([a])).then((function(e){n.result=e,o()})).catch((function(e){n.error=e,o(e)}))}}),t}),{}).value();n=new ke.CapabilitiesController({safeMethods:i,restrictedMethods:c,requestUserApproval:r}),Ne[a.origin]=n}var o=new Me;return o.push(n.providerMiddlewareFunction.bind(n,a)),o.push((function(t,n,r,i){var c=w.methods.find((function(e){return e.name===t.method})),o=t.params instanceof Array?t.params:Be(c,t.params);e[t.method].apply(e,Object(H.a)(o).concat([a])).then((function(e){n.result=e,i()})).catch((function(e){n.error=e,i(e)}))})),o},Pe=function(e){var t=Ae({appStateMachine:e.appStateMachine}),a=function(){var a=Object(we.a)(je.a.mark((function a(n){var r,i;return je.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(r=Re(t,e.appStateMachine.stateMachineInstance,{origin:n.origin}),n.origin!==window.origin){a.next=3;break}return a.abrupt("return");case 3:if(n.data.jsonrpc&&"2.0"===n.data.jsonrpc){a.next=5;break}return a.abrupt("return");case 5:if(!n.data||!n.data.error){a.next=7;break}return a.abrupt("return",console.error("JSONRPC ERROR",n.data.error));case 7:if("rpc.discover"!==n.data.method){a.next=11;break}return i={jsonrpc:"2.0",result:Object(o.a)(Object(o.a)({},w),{},{methods:[].concat(Object(H.a)(w.methods),[{name:"getPermissions",description:"List the currently available restricted methods",params:[],result:{name:"permissions",schema:{type:"array",items:{type:"object"}}}},{name:"requestPermissions",description:"request additional permissions from the user",params:[{name:"requestPermissionsObject",schema:{type:"object",properties:w.methods.reduce((function(e,t,a){return e[t.name]={type:"object"},e}),{})}}],result:{name:"permissions",schema:{type:"array",items:{type:"object"}}}}])}),id:n.data.id},n.source.postMessage(i,"*"),a.abrupt("return");case 11:return a.abrupt("return",r.handle(n.data,(function(e,t){if(e)return e.message.includes("User Rejected Request")?n.source.postMessage({jsonrpc:"2.0",error:{code:4001,message:e.message},id:n.data.id},"*"):void n.source.postMessage({jsonrpc:"2.0",error:{code:32329,message:e.message},id:n.data.id},"*");n.source?n.source.postMessage(t,"*"):console.error("No origin defined")})));case 12:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return{start:function(){window.addEventListener("message",a)},stop:function(){if(!a)return new Error("Not started");window.removeEventListener("message",a)}}},We=a(1600),Ue=Object(L.withTheme)(U.a),Le=function(e){var t=Object(i.useState)(!0),a=Object(u.a)(t,2),n=a[0],r=a[1],s=Object(i.useState)(!1),l=Object(u.a)(s,2),m=l[0],d=l[1],p=Object(i.useState)(e.formData),f=Object(u.a)(p,2),g=f[0],v=f[1];return c.a.createElement(c.a.Fragment,null,c.a.createElement(x.a,{id:e.id,style:{position:"absolute",top:"0",left:"0",right:"0",bottom:"0",padding:"50px",overflowY:"auto",animation:"scale-".concat(n?"in":"out"," 0.3s cubic-bezier(0.4, 0.0, 0.2, 1) 0s both"),zIndex:1300}},c.a.createElement("div",{style:{maxWidth:"400px",margin:"0 auto"}},e.header,c.a.createElement(K,{onClose:function(){d(!1)},header:c.a.createElement(y.a,{container:!0,justify:"center",alignContent:"center"},c.a.createElement(b.a,{gutterBottom:!0},"Enter your passphrase.")),schema:{title:"passphrase",type:"string"},uiSchema:{"ui:widget":"password"},open:m,onSubmit:function(t){e.onSubmit&&e.onSubmit(Object(o.a)(Object(o.a)({},g),{},{passphrase:t.formData}))}}),!e.hideClose&&c.a.createElement(h.a,{id:"cancel-button",style:{position:"absolute",top:"0px",right:"5px",zIndex:1400},onClick:function(){r(!1),setTimeout((function(){e.onCancel&&e.onCancel()}),90)}},c.a.createElement($.a,null)),c.a.createElement(Ue,{noHtml5Validate:!0,schema:e.schema,showErrorList:!1,formData:e.formData,uiSchema:Object(o.a)({"ui:autoFocus":!0},e.uiSchema),widgets:Object(o.a)({password:z},e.widgets),onSubmit:function(t){e.skipPassphrase&&e.onSubmit?e.onSubmit(t.formData):(v(t.formData),d(!0))}},c.a.createElement(E.a,{type:"submit",variant:"contained",fullWidth:!0,color:"primary"},e.title)))))},$e=a(307),qe=a(306),He=a(1578),_e=a(234),Fe=a(9),ze=a(135),Ge=Object(_e.b)({initial:"active",context:{hex:"",number:""},entry:Object(Fe.b)({hex:function(e,t){return e.hex},number:function(e,t){var a;if(!e.hex)return"";if(!e.hex.match(/^0x/))return"";try{a=Object(ze.hexToBigInt)(e.hex).toString()}catch(n){}return a||""}}),states:{active:{on:{HEX_INPUT:{actions:Object(Fe.b)({hex:function(e,t){return t.value},number:function(e,t){var a;if(!t.value.match(/^0x/))return"";try{a=Object(ze.hexToBigInt)(t.value).toString()}catch(n){}return a||""}})},NUMBER_INPUT:{actions:Object(Fe.b)({number:function(e,t){return t.value},hex:function(e,t){var a;try{a=Object(ze.bigIntToHex)(BigInt(t.value)).toString()}catch(n){}return a||"0x"}})}}}}}),Ke=a(1591),Je=function(e){var t=Object(l.useMachine)(Ge.withContext({hex:e.value,number:""})),a=Object(u.a)(t,3),n=a[0],r=a[1];return a[2].onChange((function(t){e.onChange&&e.onChange(t.hex)})),c.a.createElement(c.a.Fragment,null,c.a.createElement(b.a,{gutterBottom:!0},e.schema.title),c.a.createElement(y.a,{container:!0,justify:"space-around",alignItems:"center"},c.a.createElement(He.a,{label:"Hex",variant:"outlined",value:n.context.hex||"",onChange:function(e){return r("HEX_INPUT",{value:e.target.value})},style:{width:"43%"}}),c.a.createElement(Ke.a,null),c.a.createElement(He.a,{label:"Number",variant:"outlined",value:n.context.number||"",onChange:function(e){return r("NUMBER_INPUT",{value:e.target.value})},style:{width:"43%"}})))},Xe=Object(_e.b)({initial:"active",context:{hex:"",string:""},states:{active:{on:{HEX_INPUT:{actions:Object(Fe.b)({hex:function(e,t){return t.value},string:function(e,t){var a;try{a=Object(ze.hexToString)(t.value||"")}catch(n){}return a||""}})},STRING_INPUT:{actions:Object(Fe.b)({string:function(e,t){return t.value},hex:function(e,t){return Object(ze.stringToHex)(t.value||"")}})}}}}}),Ye=function(e){var t=Object(l.useMachine)(Xe.withContext({hex:e.value,string:""})),a=Object(u.a)(t,3),n=a[0],r=a[1];return a[2].onChange((function(t){e.onChange&&e.onChange(t.hex)})),c.a.createElement(c.a.Fragment,null,c.a.createElement(b.a,{gutterBottom:!0},e.schema.title),c.a.createElement(y.a,{container:!0,justify:"space-around",alignItems:"center"},c.a.createElement(He.a,{label:"Hex",variant:"outlined",value:n.context.hex||"",onChange:function(e){return r("HEX_INPUT",{value:e.target.value})},style:{width:"43%"}}),c.a.createElement(Ke.a,null),c.a.createElement(He.a,{label:"String",variant:"outlined",value:n.context.string||"",onChange:function(e){return r("STRING_INPUT",{value:e.target.value})},style:{width:"43%"}})))},Ve=m.a.withConfig({actions:{persist:function(e){localStorage.setItem("app-cards-state",JSON.stringify(e.cards))}}},{cards:[],formData:null,error:null,result:null,createData:null}),Qe=function(){var e,t=Object(l.useMachine)(Ve,{devTools:!0}),a=Object(u.a)(t,3),n=a[0],r=a[1],m=a[2],O=Object(i.useState)(),C=Object(u.a)(O,2),T=C[0],A=C[1],I=Object(J.a)(),D=I.value?he:fe,k=n.context.cards.find((function(e){return e&&e.ref&&e.ref.state.matches("selected")}));k&&k.accounts&&k.ref&&(e=k.ref.state.context.card.accounts.find((function(e){return e&&e.ref&&e.ref.state.matches("selected")})));var R=Object(i.useState)(),P=Object(u.a)(R,2),W=P[0],U=P[1],L=Object(i.useState)(),q=Object(u.a)(L,2),H=q[0],_=q[1],F=n.context.formData||{metadata:{origin:""}},z=F.metadata,G=Object(s.a)(F,["metadata"]),K=n.context.createData||{domain:""},X=K.domain,V=Object(s.a)(K,["domain"]);G.domain&&(X=G.domain,delete G.domain),Object(i.useEffect)((function(){H&&H.stop();var e=Pe({appStateMachine:{send:r,state:n,stateMachineInstance:m}});e.start(),_(e)}),[n.context,n.value,m]),Object(i.useEffect)((function(){M.a.dereference(w||{}).then(U).catch((function(e){console.error("REFPARSER ERROR",e)}))}),[]),Object(i.useEffect)((function(){if(W){var e=Object(o.a)(Object(o.a)({},B(W,"createAccount")),{},{title:""});delete e.properties.newAccount.properties.description,delete e.properties.newAccount.properties.privateKey,A(e)}}),[W]);var Q,Z,ee=function(e){r("SHOW_SIGN_MESSAGE",{address:e.address})},ne=function(e){r("SHOW_SIGN_TYPED_DATA",{address:e.address})},re=function(e){r("SHOW_SIGN_TRANSACTION",{transaction:{from:e.address}})},ie=Object(i.useState)(!0),ce=Object(u.a)(ie,2),oe=ce[0],se=ce[1];return c.a.createElement(d.a,{theme:D},c.a.createElement("div",{id:n.value}),c.a.createElement(p.a,null),c.a.createElement("div",{style:{marginTop:"70px"}}),c.a.createElement(f.a,{in:oe},c.a.createElement(We.a,{severity:"warning",action:c.a.createElement(h.a,{"aria-label":"close",color:"inherit",size:"small",onClick:function(){se(!1)}},c.a.createElement($.a,{fontSize:"inherit"}))},c.a.createElement("b",null,"sig.tools")," is in early development",c.a.createElement("b",null," alpha"),". \xa0Some features are not available.\xa0",c.a.createElement(g.a,{href:"https://ethereumclassic.org/blog/2017-06-17-private-keys",color:"textSecondary"},"Use at your own risk."),"\xa0",c.a.createElement(g.a,{href:"https://github.com/etclabscore/sig.tools/issues",color:"secondary"},"Give Feedback."))),c.a.createElement(ue,{onDarkModeChange:I.toggle,darkMode:I.value,backItem:(Q=["details","nestedDetails"],Z=n,!!Q.find((function(e){return Z.matches(e)}))&&c.a.createElement(h.a,{id:"back",onClick:function(){r("BACK")},tabIndex:1},c.a.createElement(ae.a,null))),topItem:c.a.createElement(xe,null)}),!n.matches("signMessage")&&c.a.createElement(c.a.Fragment,null,c.a.createElement(N.b,{flipKey:n.value},c.a.createElement("div",{id:"scroll"},c.a.createElement(y.a,{container:!0,justify:"center",alignItems:"center"},"list"===n.value&&c.a.createElement(Y,{cards:n.context.cards,onCardSelect:function(e){window.scroll({top:0}),r("CARD.SELECT",e)}}),"details"===n.value&&k&&c.a.createElement("div",{style:{width:"100%"}},c.a.createElement(te,{card:k,hideAccountEntryAnimation:n.history&&n.history.matches("nestedDetails"),onSignMessage:ee,onSignTypedData:ne,onSignTransaction:re})),"nestedDetails"===n.value&&e&&c.a.createElement("div",{style:{width:"100%"}},c.a.createElement(te,{card:e,onSignMessage:ee,onSignTypedData:ne,onSignTransaction:re}))))),"list"===n.value&&c.a.createElement(ve,{offsetTop:oe,onActionClick:function(e){switch(e){case"account":r("CREATE_ACCOUNT");break;case"wallet":r("CREATE_WALLET")}}})),n.matches("signMessage")&&n.context.formData&&c.a.createElement(Le,{id:"sign-message",uiSchema:{dataToSign:{"ui:widget":Ye},chainId:{"ui:widget":Je}},header:X&&c.a.createElement(We.a,{severity:"info",style:{marginBottom:"10px"},variant:"outlined"},c.a.createElement(b.a,{variant:"body1"},X&&X.origin)),schema:B(W,"sign"),formData:G,title:"Sign",onSubmit:function(e){return r("SUBMIT",Object(o.a)(Object(o.a)({},e),{},{type:"SUBMIT"}))},onCancel:function(){return r("CANCEL")}},c.a.createElement(E.a,{type:"submit",variant:"contained",fullWidth:!0,color:"primary"},"Sign")),n.matches("signTransaction")&&n.context.formData&&c.a.createElement(Le,{id:"sign-transaction",title:"Sign Transaction",header:X&&c.a.createElement(We.a,{severity:"info",style:{marginBottom:"10px"},variant:"outlined"},c.a.createElement(b.a,{variant:"body1"},X&&X.origin)),uiSchema:{transaction:{value:{"ui:widget":Je},gas:{"ui:widget":Je},gasPrice:{"ui:widget":Je},nonce:{"ui:widget":Je}},chainId:{"ui:widget":Je}},schema:B(W,"signTransaction"),formData:n.context.formData,onSubmit:function(e){return r("SUBMIT",Object(o.a)(Object(o.a)({},e),{},{type:"SUBMIT"}))},onCancel:function(){return r("CANCEL")}},c.a.createElement(E.a,{type:"submit",variant:"contained",fullWidth:!0,color:"primary"},"Sign")),n.matches("signTypedData")&&n.context.formData&&c.a.createElement(Le,{id:"sign-typed-data",header:X&&c.a.createElement(We.a,{severity:"info",style:{marginBottom:"10px"},variant:"outlined"},c.a.createElement(b.a,{variant:"body1"},X&&X.origin)),schema:B(W,"signTypedData"),formData:n.context.formData,uiSchema:{chainId:{"ui:widget":Je}},title:"Sign",onSubmit:function(e){r("SUBMIT",Object(o.a)(Object(o.a)({},e),{},{type:"SUBMIT"}))},onCancel:function(){return r("CANCEL")}},c.a.createElement(E.a,{type:"submit",variant:"contained",fullWidth:!0,color:"primary"},"Sign")),n.matches("createWallet")&&c.a.createElement(Le,{id:"create-wallet",title:"Create Wallet",header:X&&c.a.createElement(We.a,{severity:"info",style:{marginBottom:"10px"},variant:"outlined"},c.a.createElement(b.a,{variant:"body1"},X&&X.origin)),skipPassphrase:!0,schema:B(W,"importMnemonic"),formData:V,onSubmit:function(e){r("SUBMIT",Object(o.a)(Object(o.a)({},e),{},{type:"SUBMIT"}))},onCancel:function(){return r("CANCEL")}},c.a.createElement(E.a,{type:"submit",variant:"contained",fullWidth:!0,color:"primary"},"Create Wallet")),n.matches("createAccount")&&c.a.createElement(Le,{title:"Create Account",skipPassphrase:!0,schema:B(W,"createAccount"),header:X&&c.a.createElement(We.a,{severity:"info",style:{marginBottom:"10px"},variant:"outlined"},c.a.createElement(b.a,{variant:"body1"},X&&X.origin)),uiSchema:{newAccount:{passphrase:{"ui:widget":"password"}}},formData:Object.assign({},{newAccount:{name:"\ud83e\uddd9\u200d\u2642\ufe0f"}},{newAccount:n.context.createData.newAccount}),onSubmit:function(e){r("SUBMIT",Object(o.a)(Object(o.a)({},e),{},{type:"SUBMIT"}))},onCancel:function(){return r("CANCEL")}},c.a.createElement(E.a,{type:"submit",variant:"contained",fullWidth:!0,color:"primary"},"Create Account")),(n.matches("signingMessage")||n.matches("creatingAccount")||n.matches("creatingWallet")||n.matches("signingTransaction")||n.matches("signingTypedData"))&&c.a.createElement(y.a,{container:!0,justify:"center",alignItems:"center",style:{paddingTop:"30px"}},c.a.createElement(v.a,null)),c.a.createElement(x.a,{id:"success",style:{position:"absolute",backgroundColor:$e.a[500],top:"0",left:"0",right:"0",bottom:"0",padding:"50px",overflow:"auto",width:"100%",opacity:0,pointerEvents:n.matches("success")?"all":"none",animation:n.matches("success")||n.history&&"success"===n.history.value?"scale-".concat(n.matches("success")?"in":"out"," 0.2s cubic-bezier(0.4, 0.0, 0.2, 1) 0s both"):"none",zIndex:1300}},c.a.createElement(h.a,{id:"cancel-button",style:{position:"fixed",top:"0px",right:"5px",zIndex:1400},onClick:function(){return r("CANCEL")}},c.a.createElement($.a,null)),c.a.createElement(b.a,{color:"textSecondary"},c.a.createElement("span",{role:"img","aria-label":"success"},"\ud83c\udf89")," Success"),c.a.createElement("pre",{style:{overflow:"auto"}},c.a.createElement("code",null,JSON.stringify(n.context.result,null,4))),c.a.createElement(E.a,{variant:"contained",onClick:function(){return r("CANCEL")}},"Ok")),c.a.createElement(x.a,{id:"error",style:{position:"absolute",backgroundColor:qe.a[500],width:"100%",top:"0",left:"0",right:"0",bottom:"0",padding:"50px",overflow:"auto",opacity:0,pointerEvents:n.matches("error")?"all":"none",animation:n.matches("error")||n.history&&"error"===n.history.value?"scale-".concat(n.matches("error")?"in":"out"," 0.2s cubic-bezier(0.4, 0.0, 0.2, 1) 0s both"):"none",zIndex:1300}},c.a.createElement(h.a,{id:"cancel-button",style:{position:"fixed",top:"0px",right:"5px",zIndex:1400},onClick:function(){return r("CANCEL")}},c.a.createElement($.a,null)),c.a.createElement(b.a,{color:"textPrimary"},"Error"),c.a.createElement("pre",{style:{overflow:"auto"}},c.a.createElement("code",null,n.context.error&&JSON.stringify(n.context.error,null,4)))),c.a.createElement(x.a,{id:"request-permissions",style:{position:"absolute",width:"100%",top:"0",left:"0",right:"0",bottom:"0",padding:"50px",overflow:"auto",display:0===n.context.cards.length?"none":"block",opacity:0,pointerEvents:n.matches("requestPermissions")?"all":"none",animation:n.matches("requestPermissions")||n.history&&"requestPermissions"===n.history.value?"scale-".concat(n.matches("requestPermissions")?"in":"out"," 0.2s cubic-bezier(0.4, 0.0, 0.2, 1) 0s both"):"none",zIndex:1300}},c.a.createElement(h.a,{id:"cancel-button",style:{position:"fixed",top:"0px",right:"5px",zIndex:1400},onClick:function(){return r("CANCEL")}},c.a.createElement($.a,null)),c.a.createElement(y.a,{container:!0},c.a.createElement(y.a,{container:!0,direction:"column",style:{marginBottom:"20px"}},c.a.createElement(b.a,{variant:"h3",gutterBottom:!0},"Permissions Needed"),c.a.createElement(We.a,{severity:"info",style:{marginBottom:"10px"},variant:"outlined"},c.a.createElement(b.a,{variant:"body1"},z&&z.origin))),n.context.formData&&n.context.formData.permissions&&De.a.map(n.context.formData.permissions,(function(e,t){return c.a.createElement(y.a,{container:!0,direction:"row"},c.a.createElement(S.a,{control:c.a.createElement(j.a,{checked:!0,name:t}),label:"Trust this app to [".concat(t,"]?")}))})),c.a.createElement("div",{style:{width:"100%",marginBottom:"20px"}}),c.a.createElement(E.a,{variant:"contained",onClick:function(){return r("SUBMIT")}},"Trust"),c.a.createElement(E.a,{onClick:function(){return r("CANCEL")}},"Decline"))),n.matches("onboarding")&&c.a.createElement(Le,{id:"onboarding",skipPassphrase:!0,schema:T||{},hideClose:!0,uiSchema:{newAccount:{passphrase:{"ui:widget":"password"}}},header:c.a.createElement(y.a,{container:!0,direction:"row"},c.a.createElement(y.a,{item:!0,xs:4,container:!0,justify:"center",alignItems:"center"},c.a.createElement(b.a,{style:{fontSize:"100px"}},c.a.createElement("span",{role:"img","aria-label":"sig.tools"},"\ud83d\udd10"))),c.a.createElement(y.a,{item:!0,container:!0,direction:"column",xs:8,style:{marginTop:"20px"}},c.a.createElement(b.a,{variant:"h4",gutterBottom:!0},"Welcome to sig.tools"),c.a.createElement(b.a,{variant:"caption"},c.a.createElement("b",null,"sig.tools"),"\xa0is a tool to enable the distributed creation and (non-custodial) management of cryptographic accounts for the Ethereum Stack.",c.a.createElement(g.a,{href:"https://ethereumclassic.org/blog/2017-06-17-private-keys"},c.a.createElement("b",null,"\xa0sig.tools")," can ",c.a.createElement("b",null,"not")," recover funds"),". Keep your keyfile safe."))),formData:Object.assign({},{newAccount:{name:"\ud83e\uddd9\u200d\u2642\ufe0f"}},n.context.createData),title:"Set Up Your Account",onSubmit:function(e){return r("SUBMIT",Object(o.a)(Object(o.a)({},e),{},{type:"SUBMIT"}))}},c.a.createElement(E.a,{id:"submit",type:"submit",variant:"contained",fullWidth:!0,color:"primary"},"Submit")))};a(1523);r.a.render(c.a.createElement(Qe,null),document.getElementById("root"))},291:function(e,t,a){"use strict";var n=a(625),r=a(626),i=a(129),c=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"signatory-";Object(n.a)(this,e),this.storage=void 0,this.prefix=void 0,this.prefix=t,this.storage=window.localStorage}return Object(r.a)(e,[{key:"open",value:function(){return Promise.resolve()}},{key:"close",value:function(){return Promise.resolve()}},{key:"getAccount",value:function(e){return Promise.resolve(JSON.parse(this.getEntry(i.toChecksumAddress(e))))}},{key:"getHDWallet",value:function(e){return Promise.resolve(JSON.parse(this.getEntry(e)))}},{key:"storeAccount",value:function(e){var t=JSON.stringify(e);switch(e.type){case"deterministic":this.storage[this.prefix+e.uuid]=t;break;case"non-deterministic":this.storage[this.prefix+i.toChecksumAddress(e.address)]=t}return Promise.resolve(e)}},{key:"listWallets",value:function(e,t){var a=this,n=Object.keys(this.storage).filter((function(e){return e.startsWith(a.prefix)})).map((function(e){return JSON.parse(a.storage[e])})).filter((function(a){return a.type===e&&(a.visible||t)}));return Promise.resolve(n.map((function(e){var t=e.name,a=e.description,n=e.visible;switch(e.type){case"non-deterministic":return{address:e.address,parent:e.parent,name:t,description:a,type:e.type,hidden:!n};case"deterministic":return{uuid:e.uuid,name:t,description:a,hdPath:e.hdPath,type:e.type,hidden:!n}}return e})))}},{key:"getEntry",value:function(e){return this.storage[this.prefix+e]}}]),e}();t.a=c},404:function(e,t,a){"use strict";t.a=function(e,t){if(!e)return new Error("No Data");t||(t="keyfile-sig-tools.json"),"object"===typeof e&&(e=JSON.stringify(e,void 0,4));var a=new Blob([e],{type:"text/json"}),n=document.createEvent("MouseEvents"),r=document.createElement("a");r.download=t,r.href=window.URL.createObjectURL(a),r.dataset.downloadurl=["text/json",r.download,r.href].join(":"),n.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),r.dispatchEvent(n)}},621:function(e,t,a){"use strict";(function(e){var n=a(10),r=a(11),i=a.n(r),c=a(65),o=a(9),s=a(188),u=a(234),l=a(622),m=a(290),d=a(624),p=a(291),f=a(404),h=e.assert||null,g=Object(m.methods)(new p.a),y={id:"appMachine",initial:"idle",context:{cards:[],formData:null,error:null,result:null,createData:null},on:{REQUEST_PERMISSIONS:{target:"requestPermissions",actions:Object(o.b)({formData:function(e,t){return t}})},SHOW_SIGN_MESSAGE:{target:"signMessage",actions:Object(o.b)({formData:function(e,t){return t}})},SHOW_SIGN_TRANSACTION:{target:"signTransaction",actions:Object(o.b)({formData:function(e,t){return t}})},SHOW_SIGN_TYPED_DATA:{target:"signTypedData",actions:Object(o.b)({formData:function(e,t){return t}})},CREATE_ACCOUNT:{target:"createAccount",actions:Object(o.b)({createData:function(e,t){return t}})},CREATE_WALLET:{target:"createWallet",actions:Object(o.b)({createData:function(e,t){return t}})}},states:{onboarding:{meta:{test:function(e){var t=e.getByTestId;h.ok(t("onboarding"))}},on:{SUBMIT:"creatingAccount"}},idle:{meta:{test:function(e){var t=e.getByTestId;h.ok(t("idle"))}},invoke:{id:"signatoryListAccounts",src:function(){var e=Object(c.a)(i.a.mark((function e(t,a){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.listAccounts();case 2:return n=e.sent,e.next=5,g.listWallets();case 5:return r=e.sent,e.abrupt("return",Object(d.a)(n,r));case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),onDone:[{target:"onboarding",cond:function(e,t){return t.data&&0===t.data.length}},{meta:{test:function(e){var t=e.getByTestId;h.ok(t("idle"))}},target:"list",actions:Object(o.b)({cards:function(e,t){return t.data}})}],onError:{meta:{test:function(e){var t=e.getByTestId;h.ok(t("idle"))}},target:"error",actions:Object(o.b)({error:function(e,t){return t.data}})}}},list:{meta:{test:function(e){var t=e.getByTestId;h.ok(t("list"))}},entry:Object(o.b)({cards:function(e,t){return e.cards?e.cards.map((function(e){return Object(n.a)(Object(n.a)({},e),{},{ref:Object(s.c)(l.a.withContext({card:e}))})})):[]}}),on:{"CARD.SELECT":{target:"details",actions:function(e,t){t.ref.send("SELECT")}}}},details:{meta:{test:function(e){var t=e.getByTestId;h.ok(t("details"))}},on:{"CARD.SELECT":{target:"nestedDetails",actions:function(e,t){t.ref.send("SELECT")}},BACK:{target:"list"},EXPORT:{target:"details",actions:function(e,t){return new Promise((function(e,a){setTimeout(Object(c.a)(i.a.mark((function a(){var n;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,g.exportAccount(t.address);case 2:n=a.sent,Object(f.a)(n,"".concat(t.address,"-keyfile.json")),e();case 5:case"end":return a.stop()}}),a)}))),200)}))}}}},nestedDetails:{meta:{test:function(e){var t=e.getByTestId;h.ok(t("nested-details"))}},on:{BACK:{target:"details",actions:function(e,t){var a,n=e.cards.find((function(e){return e&&e.ref&&e.ref.state.matches("selected")}));n&&n.accounts&&n.ref&&(a=n.ref.state.context.card.accounts.find((function(e){return e&&e.ref&&e.ref.state.matches("selected")}))),a&&a.ref&&a.ref.send("DESELECT")}}}},requestPermissions:{meta:{test:function(e){var t=e.getByTestId;h.ok(t("request-permissions"))}},on:{CANCEL:"idle",SUBMIT:"idle"}},signMessage:{meta:{test:function(e){var t=e.getByTestId;h.ok(t("sign-message"))}},on:{CANCEL:"idle",SUBMIT:"signingMessage"}},createAccount:{meta:{test:function(e){var t=e.getByTestId;h.ok(t("createAccount"))}},on:{CANCEL:"idle",SUBMIT:"creatingAccount"}},creatingAccount:{meta:{test:function(e){var t=e.getByTestId;h.ok(t("creatingAccount"))}},invoke:{id:"signatoryCreateAccount",src:function(e,t){return new Promise((function(e,a){setTimeout((function(){g.createAccount(t.newAccount).then(function(){var t=Object(c.a)(i.a.mark((function t(a){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.exportAccount(a);case 2:n=t.sent,Object(f.a)(n,"".concat(a,"-keyfile.json")),e(a);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch(a)}),200)}))},onDone:{target:"success",actions:Object(o.b)({result:function(e,t){return t.data}})},onError:{target:"error",actions:Object(o.b)({error:function(e,t){return t.data}})}}},createWallet:{meta:{test:function(e){var t=e.getByTestId;h.ok(t("createWallet"))}},on:{CANCEL:"idle",SUBMIT:"creatingWallet"}},creatingWallet:{meta:{test:function(e){var t=e.getByTestId;h.ok(t("creatingWallet"))}},invoke:{id:"signatoryCreateWallet",src:function(e,t){return new Promise((function(e,a){setTimeout((function(){g.importMnemonic(t.importMnemonicOptions).then(e).catch(a)}),200)}))},onDone:{target:"success",actions:Object(o.b)({result:function(e,t){return t.data}})},onError:{target:"error",actions:Object(o.b)({error:function(e,t){return t.data}})}}},signingTypedData:{meta:{test:function(e){var t=e.getByTestId;h.ok(t("signingTypedData"))}},invoke:{id:"signatorySignTypedData",src:function(e,t){return g.signTypedData(t.typedData,t.address,t.passphrase,t.chainId)},onDone:{target:"success",actions:Object(o.b)({result:function(e,t){return t.data}})},onError:{target:"error",actions:Object(o.b)({error:function(e,t){return t.data}})}}},signingTransaction:{meta:{test:function(e){var t=e.getByTestId;h.ok(t("signingTransaction"))}},invoke:{id:"signatorySignTransaction",src:function(e,t){return new Promise((function(e,a){setTimeout((function(){g.signTransaction(t.transaction,t.passphrase,t.chainId).then(e).catch(a)}),200)}))},onDone:{target:"success",actions:Object(o.b)({result:function(e,t){return t.data}})},onError:{target:"error",actions:Object(o.b)({error:function(e,t){return t.data}})}}},signingMessage:{meta:{test:function(e){var t=e.getByTestId;h.ok(t("signingMessage"))}},invoke:{id:"signatorySignMessage",src:function(e,t){return new Promise((function(e,a){setTimeout((function(){g.sign(t.dataToSign,t.address,t.passphrase,t.chainId).then(e).catch(a)}),200)}))},onDone:{target:"success",actions:Object(o.b)({result:function(e,t){return t.data}})},onError:{target:"error",actions:Object(o.b)({error:function(e,t){return t.data}})}}},error:{meta:{test:function(e){var t=e.getByTestId;h.ok(t("error"))}},on:{CANCEL:"idle"}},success:{meta:{test:function(e){var t=e.getByTestId;h.ok(t("success"))}},on:{CANCEL:"idle"}},signTransaction:{meta:{test:function(e){var t=e.getByTestId;h.ok(t("sign-transaction"))}},on:{CANCEL:"list",SUBMIT:"signingTransaction"}},signTypedData:{meta:{test:function(e){var t=e.getByTestId;h.ok(t("signTypedData"))}},on:{CANCEL:"list",SUBMIT:"signingTypedData"}}}},b=Object(u.b)(y);t.a=b}).call(this,a(20))},622:function(e,t,a){"use strict";var n=a(10),r=a(234),i=a(9),c=a(188),o=Object(r.b)({id:"toggle",initial:"initial",context:{card:{}},states:{initial:{entry:Object(i.b)({card:function(e,t){var a=e.card;return a.accounts?Object(n.a)(Object(n.a)({},a),{},{accounts:a.accounts.map((function(e){return Object(n.a)(Object(n.a)({},e),{},{ref:Object(c.c)(o.withContext({card:e}))})}))}):a}}),on:{SELECT:"selected"}},selected:{on:{DESELECT:"initial"}}}});t.a=o},624:function(e,t,a){"use strict";var n=a(10),r=a(88),i=a(115),c=a.n(i);t.a=function(e,t){var a=c.a.groupBy(e,(function(e){return e.parent})),i=c.a.keyBy(t,(function(e){return e.uuid})),o={},s=[];return c.a.forEach(a,(function(e,t){"undefined"===t?s=s.concat(e):(o[t]=!0,s=[].concat(Object(r.a)(s),[Object(n.a)(Object(n.a)({},i[t]),{},{accounts:e})]))})),c.a.forEach(i,(function(e,t){o[t]||(s=[e].concat(Object(r.a)(s)))})),s}},660:function(e,t,a){e.exports=a(1524)},676:function(e,t){},678:function(e,t){},709:function(e,t){},710:function(e,t){},808:function(e,t){},859:function(e,t){},866:function(e,t){},868:function(e,t){},880:function(e,t,a){}},[[660,1,2]]]);